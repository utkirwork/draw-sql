{"version":3,"file":"index-CJV6N6yg.js","sources":["../../node_modules/react-dom/client.js","../../node_modules/goober/dist/goober.modern.js","../../node_modules/react-hot-toast/dist/index.mjs","../../src/store/authStore.ts","../../src/components/layout/AppLayout.tsx","../../src/components/layout/AuthLayout.tsx","../../src/pages/HomePage.tsx","../../src/pages/auth/LoginPage.tsx","../../src/pages/auth/RegisterPage.tsx","../../src/pages/DashboardPage.tsx","../../src/pages/DiagramsPage.tsx","../../src/pages/DiagramEditorPage.tsx","../../src/pages/TemplatesPage.tsx","../../src/pages/ProfilePage.tsx","../../src/pages/NotFoundPage.tsx","../../src/TestPage.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","let e={data:\"\"},t=t=>\"object\"==typeof window?((t?t.querySelector(\"#_goober\"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement(\"style\")),{innerHTML:\" \",id:\"_goober\"})).firstChild:t||e,r=e=>{let r=t(e),l=r.data;return r.data=\"\",l},l=/(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g,a=/\\/\\*[^]*?\\*\\/|  +/g,n=/\\n+/g,o=(e,t)=>{let r=\"\",l=\"\",a=\"\";for(let n in e){let c=e[n];\"@\"==n[0]?\"i\"==n[1]?r=n+\" \"+c+\";\":l+=\"f\"==n[1]?o(c,n):n+\"{\"+o(c,\"k\"==n[1]?\"\":t)+\"}\":\"object\"==typeof c?l+=o(c,t?t.replace(/([^,])+/g,e=>n.replace(/([^,]*:\\S+\\([^)]*\\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+\" \"+t:t)):n):null!=c&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,\"-$&\").toLowerCase(),a+=o.p?o.p(n,c):n+\":\"+c+\";\")}return r+(t&&a?t+\"{\"+a+\"}\":a)+l},c={},s=e=>{if(\"object\"==typeof e){let t=\"\";for(let r in e)t+=r+s(e[r]);return t}return e},i=(e,t,r,i,p)=>{let u=s(e),d=c[u]||(c[u]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return\"go\"+r})(u));if(!c[d]){let t=u!==e?e:(e=>{let t,r,o=[{}];for(;t=l.exec(e.replace(a,\"\"));)t[4]?o.shift():t[3]?(r=t[3].replace(n,\" \").trim(),o.unshift(o[0][r]=o[0][r]||{})):o[0][t[1]]=t[2].replace(n,\" \").trim();return o[0]})(e);c[d]=o(p?{[\"@keyframes \"+d]:t}:t,r?\"\":\".\"+d)}let f=r&&c.g?c.g:null;return r&&(c.g=c[d]),((e,t,r,l)=>{l?t.data=t.data.replace(l,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(c[d],t,i,f),d},p=(e,t,r)=>e.reduce((e,l,a)=>{let n=t[a];if(n&&n.call){let e=n(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?\".\"+t:e&&\"object\"==typeof e?e.props?\"\":o(e,\"\"):!1===e?\"\":e}return e+l+(null==n?\"\":n)},\"\");function u(e){let r=this||{},l=e.call?e(r.p):e;return i(l.unshift?l.raw?p(l,[].slice.call(arguments,1),r.p):l.reduce((e,t)=>Object.assign(e,t&&t.call?t(r.p):t),{}):l,t(r.target),r.g,r.o,r.k)}let d,f,g,b=u.bind({g:1}),h=u.bind({k:1});function m(e,t,r,l){o.p=t,d=e,f=r,g=l}function j(e,t){let r=this||{};return function(){let l=arguments;function a(n,o){let c=Object.assign({},n),s=c.className||a.className;r.p=Object.assign({theme:f&&f()},c),r.o=/ *go\\d+/.test(s),c.className=u.apply(r,l)+(s?\" \"+s:\"\"),t&&(c.ref=o);let i=e;return e[0]&&(i=c.as||e,delete c.as),g&&i[0]&&g(c),d(i,c)}return t?t(a):a}}export{u as css,r as extractCss,b as glob,h as keyframes,m as setup,j as styled};\n","\"use client\";\nvar W=e=>typeof e==\"function\",f=(e,t)=>W(e)?e(t):e;var F=(()=>{let e=0;return()=>(++e).toString()})(),A=(()=>{let e;return()=>{if(e===void 0&&typeof window<\"u\"){let t=matchMedia(\"(prefers-reduced-motion: reduce)\");e=!t||t.matches}return e}})();import{useEffect as H,useState as j,useRef as Q}from\"react\";var Y=20;var U=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Y)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return U(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},P=[],y={toasts:[],pausedAt:void 0},u=e=>{y=U(y,e),P.forEach(t=>{t(y)})},q={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},D=(e={})=>{let[t,r]=j(y),s=Q(y);H(()=>(s.current!==y&&r(y),P.push(r),()=>{let o=P.indexOf(r);o>-1&&P.splice(o,1)}),[]);let a=t.toasts.map(o=>{var n,i,p;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((n=e[o.type])==null?void 0:n.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((i=e[o.type])==null?void 0:i.duration)||(e==null?void 0:e.duration)||q[o.type],style:{...e.style,...(p=e[o.type])==null?void 0:p.style,...o.style}}});return{...t,toasts:a}};var J=(e,t=\"blank\",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:\"status\",\"aria-live\":\"polite\"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||F()}),x=e=>(t,r)=>{let s=J(t,e,r);return u({type:2,toast:s}),s.id},c=(e,t)=>x(\"blank\")(e,t);c.error=x(\"error\");c.success=x(\"success\");c.loading=x(\"loading\");c.custom=x(\"custom\");c.dismiss=e=>{u({type:3,toastId:e})};c.remove=e=>u({type:4,toastId:e});c.promise=(e,t,r)=>{let s=c.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e==\"function\"&&(e=e()),e.then(a=>{let o=t.success?f(t.success,a):void 0;return o?c.success(o,{id:s,...r,...r==null?void 0:r.success}):c.dismiss(s),a}).catch(a=>{let o=t.error?f(t.error,a):void 0;o?c.error(o,{id:s,...r,...r==null?void 0:r.error}):c.dismiss(s)}),e};import{useEffect as $,useCallback as L}from\"react\";var K=(e,t)=>{u({type:1,toast:{id:e,height:t}})},X=()=>{u({type:5,time:Date.now()})},b=new Map,Z=1e3,ee=(e,t=Z)=>{if(b.has(e))return;let r=setTimeout(()=>{b.delete(e),u({type:4,toastId:e})},t);b.set(e,r)},O=e=>{let{toasts:t,pausedAt:r}=D(e);$(()=>{if(r)return;let o=Date.now(),n=t.map(i=>{if(i.duration===1/0)return;let p=(i.duration||0)+i.pauseDuration-(o-i.createdAt);if(p<0){i.visible&&c.dismiss(i.id);return}return setTimeout(()=>c.dismiss(i.id),p)});return()=>{n.forEach(i=>i&&clearTimeout(i))}},[t,r]);let s=L(()=>{r&&u({type:6,time:Date.now()})},[r]),a=L((o,n)=>{let{reverseOrder:i=!1,gutter:p=8,defaultPosition:d}=n||{},h=t.filter(m=>(m.position||d)===(o.position||d)&&m.height),v=h.findIndex(m=>m.id===o.id),S=h.filter((m,E)=>E<v&&m.visible).length;return h.filter(m=>m.visible).slice(...i?[S+1]:[0,S]).reduce((m,E)=>m+(E.height||0)+p,0)},[t]);return $(()=>{t.forEach(o=>{if(o.dismissed)ee(o.id,o.removeDelay);else{let n=b.get(o.id);n&&(clearTimeout(n),b.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:K,startPause:X,endPause:s,calculateOffset:a}}};import*as l from\"react\";import{styled as B,keyframes as z}from\"goober\";import*as g from\"react\";import{styled as w,keyframes as me}from\"goober\";import{styled as te,keyframes as I}from\"goober\";var oe=I`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}`,re=I`\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`,se=I`\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}`,k=te(\"div\")`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${e=>e.primary||\"#ff4b4b\"};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${oe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: ${re} 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ${e=>e.secondary||\"#fff\"};\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: ${se} 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n`;import{styled as ae,keyframes as ie}from\"goober\";var ne=ie`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`,V=ae(\"div\")`\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ${e=>e.secondary||\"#e0e0e0\"};\n  border-right-color: ${e=>e.primary||\"#616161\"};\n  animation: ${ne} 1s linear infinite;\n`;import{styled as ce,keyframes as N}from\"goober\";var pe=N`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}`,de=N`\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}`,_=ce(\"div\")`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${e=>e.primary||\"#61d345\"};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${pe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: ${de} 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ${e=>e.secondary||\"#fff\"};\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n`;var ue=w(\"div\")`\n  position: absolute;\n`,le=w(\"div\")`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n`,fe=me`\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`,Te=w(\"div\")`\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: ${fe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n`,M=({toast:e})=>{let{icon:t,type:r,iconTheme:s}=e;return t!==void 0?typeof t==\"string\"?g.createElement(Te,null,t):t:r===\"blank\"?null:g.createElement(le,null,g.createElement(V,{...s}),r!==\"loading\"&&g.createElement(ue,null,r===\"error\"?g.createElement(k,{...s}):g.createElement(_,{...s})))};var ye=e=>`\n0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,ge=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}\n`,he=\"0%{opacity:0;} 100%{opacity:1;}\",xe=\"0%{opacity:1;} 100%{opacity:0;}\",be=B(\"div\")`\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n`,Se=B(\"div\")`\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n`,Ae=(e,t)=>{let s=e.includes(\"top\")?1:-1,[a,o]=A()?[he,xe]:[ye(s),ge(s)];return{animation:t?`${z(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${z(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},C=l.memo(({toast:e,position:t,style:r,children:s})=>{let a=e.height?Ae(e.position||t||\"top-center\",e.visible):{opacity:0},o=l.createElement(M,{toast:e}),n=l.createElement(Se,{...e.ariaProps},f(e.message,e));return l.createElement(be,{className:e.className,style:{...a,...r,...e.style}},typeof s==\"function\"?s({icon:o,message:n}):l.createElement(l.Fragment,null,o,n))});import{css as Pe,setup as Re}from\"goober\";import*as T from\"react\";Re(T.createElement);var ve=({id:e,className:t,style:r,onHeightUpdate:s,children:a})=>{let o=T.useCallback(n=>{if(n){let i=()=>{let p=n.getBoundingClientRect().height;s(e,p)};i(),new MutationObserver(i).observe(n,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return T.createElement(\"div\",{ref:o,className:t,style:r},a)},Ee=(e,t)=>{let r=e.includes(\"top\"),s=r?{top:0}:{bottom:0},a=e.includes(\"center\")?{justifyContent:\"center\"}:e.includes(\"right\")?{justifyContent:\"flex-end\"}:{};return{left:0,right:0,display:\"flex\",position:\"absolute\",transition:A()?void 0:\"all 230ms cubic-bezier(.21,1.02,.73,1)\",transform:`translateY(${t*(r?1:-1)}px)`,...s,...a}},De=Pe`\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n`,R=16,Oe=({reverseOrder:e,position:t=\"top-center\",toastOptions:r,gutter:s,children:a,containerStyle:o,containerClassName:n})=>{let{toasts:i,handlers:p}=O(r);return T.createElement(\"div\",{id:\"_rht_toaster\",style:{position:\"fixed\",zIndex:9999,top:R,left:R,right:R,bottom:R,pointerEvents:\"none\",...o},className:n,onMouseEnter:p.startPause,onMouseLeave:p.endPause},i.map(d=>{let h=d.position||t,v=p.calculateOffset(d,{reverseOrder:e,gutter:s,defaultPosition:t}),S=Ee(h,v);return T.createElement(ve,{id:d.id,key:d.id,onHeightUpdate:p.updateHeight,className:d.visible?De:\"\",style:S},d.type===\"custom\"?f(d.message,d):a?a(d):T.createElement(C,{toast:d,position:h}))}))};var Vt=c;export{_ as CheckmarkIcon,k as ErrorIcon,V as LoaderIcon,C as ToastBar,M as ToastIcon,Oe as Toaster,Vt as default,f as resolveValue,c as toast,O as useToaster,D as useToasterStore};\n//# sourceMappingURL=index.mjs.map","import { create } from 'zustand';\n\ninterface User {\n  id: string;\n  email: string;\n  first_name: string;\n  last_name: string;\n  role: string;\n}\n\ninterface AuthState {\n  user: User | null;\n  token: string | null;\n  isAuthenticated: boolean;\n  isLoading: boolean;\n  login: (user: User, token: string) => void;\n  logout: () => void;\n  setLoading: (loading: boolean) => void;\n  checkAuth: () => void;\n  initializeAuth: () => void;\n}\n\nexport const useAuthStore = create<AuthState>((set, get) => ({\n  user: null,\n  token: null,\n  isAuthenticated: false,\n  isLoading: false, // Start with loading false\n\n  login: (user: User, token: string) => {\n    localStorage.setItem('token', token);\n    localStorage.setItem('user', JSON.stringify(user));\n    set({ user, token, isAuthenticated: true });\n  },\n\n  logout: () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    set({ user: null, token: null, isAuthenticated: false });\n  },\n\n  setLoading: (loading: boolean) => {\n    set({ isLoading: loading });\n  },\n\n  checkAuth: () => {\n    const token = localStorage.getItem('token');\n    const userStr = localStorage.getItem('user');\n    \n    if (token && userStr) {\n      try {\n        const user = JSON.parse(userStr);\n        set({ user, token, isAuthenticated: true, isLoading: false });\n      } catch (error) {\n        console.error('Error parsing user data:', error);\n        get().logout();\n      }\n    } else {\n      set({ isLoading: false });\n    }\n  },\n\n  initializeAuth: () => {\n    // Use setTimeout to ensure localStorage is available\n    setTimeout(() => {\n      get().checkAuth();\n    }, 0);\n  }\n})); ","import React from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuthStore } from '@/store/authStore';\n\ninterface AppLayoutProps {\n  children: React.ReactNode;\n}\n\nexport const AppLayout: React.FC<AppLayoutProps> = ({ children }) => {\n  const { user, logout } = useAuthStore();\n  const navigate = useNavigate();\n\n  const handleLogout = () => {\n    logout();\n    navigate('/');\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <header className=\"bg-white shadow-sm border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <div className=\"flex items-center space-x-8\">\n              <Link to=\"/dashboard\" className=\"text-xl font-bold text-gray-900\">\n                DrawSQL Clone\n              </Link>\n              \n              {/* Navigation */}\n              <nav className=\"hidden md:flex space-x-6\">\n                <Link \n                  to=\"/dashboard\" \n                  className=\"text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium\"\n                >\n                  Dashboard\n                </Link>\n                <Link \n                  to=\"/diagrams\" \n                  className=\"text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium\"\n                >\n                  My Diagrams\n                </Link>\n                <Link \n                  to=\"/templates\" \n                  className=\"text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium\"\n                >\n                  Templates\n                </Link>\n              </nav>\n            </div>\n            \n            {/* User menu */}\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"flex items-center space-x-2\">\n                  <div className=\"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center\">\n                    <span className=\"text-white text-sm font-medium\">\n                      {user?.first_name?.charAt(0)}{user?.last_name?.charAt(0)}\n                    </span>\n                  </div>\n                  <div className=\"hidden sm:block\">\n                    <p className=\"text-sm font-medium text-gray-900\">\n                      {user?.first_name} {user?.last_name}\n                    </p>\n                    <p className=\"text-xs text-gray-500\">{user?.email}</p>\n                  </div>\n                </div>\n                \n                <div className=\"flex items-center space-x-2\">\n                  <Link\n                    to=\"/profile\"\n                    className=\"text-gray-400 hover:text-gray-600 p-2 rounded-md hover:bg-gray-100\"\n                    title=\"Profile\"\n                  >\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                    </svg>\n                  </Link>\n                  \n                  <button\n                    onClick={handleLogout}\n                    className=\"text-gray-400 hover:text-gray-600 p-2 rounded-md hover:bg-gray-100\"\n                    title=\"Logout\"\n                  >\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </header>\n      \n      <main className=\"flex-1\">\n        {children}\n      </main>\n    </div>\n  );\n}; ","import React from 'react';\n\ninterface AuthLayoutProps {\n  children: React.ReactNode;\n}\n\nexport const AuthLayout: React.FC<AuthLayoutProps> = ({ children }) => {\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n        <h2 className=\"mt-6 text-center text-3xl font-bold text-gray-900\">\n          DrawSQL Clone\n        </h2>\n        <p className=\"mt-2 text-center text-sm text-gray-600\">\n          Professional Database Schema Designer\n        </p>\n      </div>\n\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n        <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n}; ","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const HomePage: React.FC = () => {\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Simple Header */}\n      <header className=\"bg-white shadow\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <h1 className=\"text-xl font-bold text-gray-900\">DrawSQL Clone</h1>\n            <div className=\"flex space-x-4\">\n              <Link \n                to=\"/login\" \n                className=\"text-gray-600 hover:text-gray-900 px-3 py-2\"\n              >\n                Login\n              </Link>\n              <Link \n                to=\"/register\" \n                className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\n              >\n                Sign up\n              </Link>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Hero Section */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24\">\n        <div className=\"text-center\">\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-8\">\n            Beautiful database diagrams\n          </h1>\n          <p className=\"text-xl text-gray-600 mb-12 max-w-3xl mx-auto\">\n            Design, visualize and collaborate on entity relationship diagrams for your databases.\n          </p>\n          <div className=\"space-x-4\">\n            <Link \n              to=\"/register\" \n              className=\"inline-block bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700\"\n            >\n              Get started\n            </Link>\n            <Link \n              to=\"/templates\" \n              className=\"inline-block bg-white text-gray-900 px-8 py-3 rounded-lg border hover:bg-gray-50\"\n            >\n              View templates\n            </Link>\n          </div>\n        </div>\n      </main>\n\n      {/* Features */}\n      <section className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n          <div className=\"bg-white p-6 rounded-lg shadow\">\n            <h3 className=\"text-xl font-semibold mb-4\">Visual Design</h3>\n            <p className=\"text-gray-600\">\n              Drag-and-drop interface for creating beautiful database tables.\n            </p>\n          </div>\n          <div className=\"bg-white p-6 rounded-lg shadow\">\n            <h3 className=\"text-xl font-semibold mb-4\">Real-time Collaboration</h3>\n            <p className=\"text-gray-600\">\n              Work together with your team in real-time.\n            </p>\n          </div>\n          <div className=\"bg-white p-6 rounded-lg shadow\">\n            <h3 className=\"text-xl font-semibold mb-4\">Multiple Databases</h3>\n            <p className=\"text-gray-600\">\n              Support for PostgreSQL, MySQL, and more.\n            </p>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}; ","import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuthStore } from '@/store/authStore';\n\nexport const LoginPage: React.FC = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  \n  const navigate = useNavigate();\n  const { login } = useAuthStore();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setIsLoading(true);\n\n    try {\n      const response = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password }),\n      });\n\n      const data = await response.json();\n\n      if (response.ok && data.success) {\n        const userData = {\n          id: data.data.user.id,\n          email: data.data.user.email,\n          first_name: data.data.user.firstName,\n          last_name: data.data.user.lastName,\n          role: 'user' // Default role\n        };\n        \n        login(userData, data.data.token);\n        navigate('/dashboard');\n      } else {\n        setError(data.error || 'Login failed');\n      }\n    } catch (err) {\n      setError('Login failed. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDemoLogin = (demoEmail: string, demoPassword: string) => {\n    setEmail(demoEmail);\n    setPassword(demoPassword);\n  };\n\n  return (\n    <div>\n      <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Sign in to your account</h2>\n      \n      {error && (\n        <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-md\">\n          <p className=\"text-sm text-red-600\">{error}</p>\n        </div>\n      )}\n      \n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        <div>\n          <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n            Email address\n          </label>\n          <input\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            required\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n            placeholder=\"Enter your email\"\n            disabled={isLoading}\n          />\n        </div>\n\n        <div>\n          <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n            Password\n          </label>\n          <input\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            required\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n            placeholder=\"Enter your password\"\n            disabled={isLoading}\n          />\n        </div>\n\n        <div>\n          <button\n            type=\"submit\"\n            disabled={isLoading}\n            className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400 disabled:cursor-not-allowed\"\n          >\n            {isLoading ? (\n              <div className=\"flex items-center\">\n                <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                Signing in...\n              </div>\n            ) : (\n              'Sign in'\n            )}\n          </button>\n        </div>\n      </form>\n\n      <div className=\"mt-6\">\n        <div className=\"text-center\">\n          <span className=\"text-sm text-gray-600\">\n            Don't have an account?{' '}\n            <Link to=\"/register\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n              Sign up\n            </Link>\n          </span>\n        </div>\n      </div>\n\n      <div className=\"mt-6 p-4 bg-blue-50 rounded-md\">\n        <h3 className=\"text-sm font-medium text-blue-800 mb-2\">Test Account (click to use):</h3>\n        <div className=\"space-y-2\">\n          <button\n            type=\"button\"\n            onClick={() => handleDemoLogin('test@example.com', 'password123')}\n            className=\"block w-full text-left text-xs text-blue-700 hover:text-blue-900 hover:bg-blue-100 p-2 rounded transition-colors\"\n          >\n            test@example.com / password123\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}; ","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const RegisterPage: React.FC = () => {\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    console.log('Register form submitted');\n  };\n\n  return (\n    <div>\n      <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Create your account</h2>\n      \n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div>\n            <label htmlFor=\"firstName\" className=\"block text-sm font-medium text-gray-700\">\n              First name\n            </label>\n            <input\n              id=\"firstName\"\n              name=\"firstName\"\n              type=\"text\"\n              required\n              className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n              placeholder=\"First name\"\n            />\n          </div>\n\n          <div>\n            <label htmlFor=\"lastName\" className=\"block text-sm font-medium text-gray-700\">\n              Last name\n            </label>\n            <input\n              id=\"lastName\"\n              name=\"lastName\"\n              type=\"text\"\n              required\n              className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n              placeholder=\"Last name\"\n            />\n          </div>\n        </div>\n\n        <div>\n          <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n            Email address\n          </label>\n          <input\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            required\n            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n            placeholder=\"Enter your email\"\n          />\n        </div>\n\n        <div>\n          <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n            Password\n          </label>\n          <input\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            required\n            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n            placeholder=\"Create a password\"\n          />\n        </div>\n\n        <div>\n          <button\n            type=\"submit\"\n            className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n          >\n            Create account\n          </button>\n        </div>\n      </form>\n\n      <div className=\"mt-6\">\n        <div className=\"text-center\">\n          <span className=\"text-sm text-gray-600\">\n            Already have an account?{' '}\n            <Link to=\"/login\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n              Sign in\n            </Link>\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}; ","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useAuthStore } from '@/store/authStore';\n\ninterface Diagram {\n  id: string;\n  title: string;\n  description?: string;\n  canvas_data: any;\n  visibility: string;\n  created_at: string;\n  updated_at: string;\n}\n\nexport const DashboardPage: React.FC = () => {\n  const { user, token } = useAuthStore();\n  const [diagrams, setDiagrams] = useState<Diagram[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchDiagrams = async () => {\n      if (!token) return;\n      \n      try {\n        const response = await fetch('/api/diagrams', {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n\n        if (response.ok) {\n          const data = await response.json();\n          setDiagrams(data.data || []);\n        }\n      } catch (error) {\n        console.error('Error fetching diagrams:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchDiagrams();\n  }, [token]);\n\n  const stats = [\n    { name: 'Total Diagrams', value: diagrams.length.toString(), change: '+2.1%', changeType: 'positive', icon: '📊' },\n    { name: 'Public Diagrams', value: diagrams.filter(d => d.visibility === 'public').length.toString(), change: '+1', changeType: 'positive', icon: '🌐' },\n    { name: 'Private Diagrams', value: diagrams.filter(d => d.visibility === 'private').length.toString(), change: '+12%', changeType: 'positive', icon: '🔒' },\n    { name: 'Recent Activity', value: diagrams.filter(d => new Date(d.updated_at) > new Date(Date.now() - 7 * 24 * 60 * 60 * 1000)).length.toString(), change: '0%', changeType: 'neutral', icon: '📈' }\n  ];\n\n  const formatTimeAgo = (dateString: string) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffInMs = now.getTime() - date.getTime();\n    const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));\n    const diffInDays = Math.floor(diffInHours / 24);\n\n    if (diffInHours < 1) return 'Just now';\n    if (diffInHours < 24) return `${diffInHours} hours ago`;\n    if (diffInDays < 7) return `${diffInDays} days ago`;\n    return date.toLocaleDateString();\n  };\n\n  const getTableCount = (canvasData: any) => {\n    try {\n      if (canvasData?.tables) return canvasData.tables.length;\n      return 0;\n    } catch {\n      return 0;\n    }\n  };\n\n  const quickActions = [\n    { name: 'Create New Diagram', description: 'Start with a blank canvas', icon: '➕', color: 'bg-blue-500', link: '/editor' },\n    { name: 'Browse Templates', description: 'Use pre-built schemas', icon: '📋', color: 'bg-green-500', link: '/templates' },\n    { name: 'View All Diagrams', description: 'Manage your diagrams', icon: '📊', color: 'bg-purple-500', link: '/diagrams' },\n    { name: 'Profile Settings', description: 'Update your profile', icon: '⚙️', color: 'bg-orange-500', link: '/profile' }\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Welcome Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">\n            Welcome back, {user?.first_name}! 👋\n          </h1>\n          <p className=\"mt-2 text-gray-600\">\n            Here's what's happening with your database diagrams today.\n          </p>\n        </div>\n\n        {/* Stats Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          {stats.map((stat) => (\n            <div key={stat.name} className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">{stat.name}</p>\n                  <p className=\"text-2xl font-bold text-gray-900\">{stat.value}</p>\n                </div>\n                <div className=\"text-3xl\">{stat.icon}</div>\n              </div>\n              <div className=\"mt-4\">\n                <span className={`text-sm font-medium ${\n                  stat.changeType === 'positive' ? 'text-green-600' : \n                  stat.changeType === 'negative' ? 'text-red-600' : 'text-gray-600'\n                }`}>\n                  {stat.change} from last month\n                </span>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/* Quick Actions */}\n        <div className=\"mb-8\">\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Quick Actions</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n            {quickActions.map((action) => (\n              <Link\n                key={action.name}\n                to={action.link}\n                className=\"group bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200\"\n              >\n                <div className={`inline-flex items-center justify-center w-12 h-12 rounded-lg ${action.color} text-white text-xl mb-4 group-hover:scale-110 transition-transform duration-200`}>\n                  {action.icon}\n                </div>\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">{action.name}</h3>\n                <p className=\"text-sm text-gray-600\">{action.description}</p>\n              </Link>\n            ))}\n          </div>\n        </div>\n\n        {/* Recent Diagrams */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n          <div className=\"px-6 py-4 border-b border-gray-200 flex items-center justify-between\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">Recent Diagrams</h2>\n            <Link \n              to=\"/diagrams\" \n              className=\"text-blue-600 hover:text-blue-800 text-sm font-medium\"\n            >\n              View all →\n            </Link>\n          </div>\n          <div className=\"overflow-hidden\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Diagram\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Database\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Tables\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Status\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Last Modified\n                  </th>\n                  <th className=\"relative px-6 py-3\">\n                    <span className=\"sr-only\">Edit</span>\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {isLoading ? (\n                  <tr>\n                    <td colSpan={6} className=\"px-6 py-4 text-center text-gray-500\">\n                      Loading diagrams...\n                    </td>\n                  </tr>\n                ) : diagrams.length === 0 ? (\n                  <tr>\n                    <td colSpan={6} className=\"px-6 py-4 text-center text-gray-500\">\n                      No diagrams yet. <Link to=\"/editor\" className=\"text-blue-600 hover:text-blue-900\">Create your first diagram!</Link>\n                    </td>\n                  </tr>\n                ) : (\n                  diagrams.slice(0, 5).map((diagram: Diagram) => (\n                    <tr key={diagram.id} className=\"hover:bg-gray-50\">\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center\">\n                          <div className=\"flex-shrink-0 h-10 w-10\">\n                            <div className=\"h-10 w-10 rounded-lg bg-blue-100 flex items-center justify-center\">\n                              <svg className=\"h-6 w-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                              </svg>\n                            </div>\n                          </div>\n                          <div className=\"ml-4\">\n                            <div className=\"text-sm font-medium text-gray-900\">{diagram.title}</div>\n                            {diagram.description && (\n                              <div className=\"text-sm text-gray-500\">{diagram.description}</div>\n                            )}\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n                          PostgreSQL\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                        {getTableCount(diagram.canvas_data)} tables\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                          diagram.visibility === 'public' ? 'bg-green-100 text-green-800' : 'bg-blue-100 text-blue-800'\n                        }`}>\n                          {diagram.visibility}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        {formatTimeAgo(diagram.updated_at)}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                        <Link \n                          to={`/diagram/${diagram.id}`} \n                          className=\"text-blue-600 hover:text-blue-900 mr-3\"\n                        >\n                          Edit\n                        </Link>\n                        <button \n                          onClick={() => window.open(`/diagram/${diagram.id}`, '_blank')}\n                          className=\"text-gray-600 hover:text-gray-900\"\n                        >\n                          View\n                        </button>\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        {/* Activity Feed */}\n        <div className=\"mt-8 bg-white rounded-lg shadow-sm border border-gray-200\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">Recent Activity</h2>\n          </div>\n          <div className=\"p-6\">\n            <div className=\"flow-root\">\n              <ul className=\"-mb-8\">\n                <li className=\"relative pb-8\">\n                  <div className=\"relative flex space-x-3\">\n                    <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-green-500\">\n                      <svg className=\"h-5 w-5 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                      </svg>\n                    </div>\n                    <div className=\"min-w-0 flex-1\">\n                      <div>\n                        <p className=\"text-sm text-gray-500\">\n                          <span className=\"font-medium text-gray-900\">You</span> created a new diagram\n                          <span className=\"font-medium text-gray-900\"> E-commerce Database</span>\n                        </p>\n                        <p className=\"mt-0.5 text-sm text-gray-500\">2 hours ago</p>\n                      </div>\n                    </div>\n                  </div>\n                </li>\n                <li className=\"relative pb-8\">\n                  <div className=\"relative flex space-x-3\">\n                    <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-blue-500\">\n                      <svg className=\"h-5 w-5 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path d=\"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z\" />\n                      </svg>\n                    </div>\n                    <div className=\"min-w-0 flex-1\">\n                      <div>\n                        <p className=\"text-sm text-gray-500\">\n                          <span className=\"font-medium text-gray-900\">You</span> updated\n                          <span className=\"font-medium text-gray-900\"> User Management System</span>\n                        </p>\n                        <p className=\"mt-0.5 text-sm text-gray-500\">1 day ago</p>\n                      </div>\n                    </div>\n                  </div>\n                </li>\n                <li className=\"relative\">\n                  <div className=\"relative flex space-x-3\">\n                    <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-purple-500\">\n                      <svg className=\"h-5 w-5 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n                      </svg>\n                    </div>\n                    <div className=\"min-w-0 flex-1\">\n                      <div>\n                        <p className=\"text-sm text-gray-500\">\n                          <span className=\"font-medium text-gray-900\">You</span> used template\n                          <span className=\"font-medium text-gray-900\"> Blog System</span>\n                        </p>\n                        <p className=\"mt-0.5 text-sm text-gray-500\">3 days ago</p>\n                      </div>\n                    </div>\n                  </div>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}; ","import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { Plus, FileText, Clock, Download, Eye, Trash2, Edit } from 'lucide-react';\n\ninterface Diagram {\n    id: string;\n    name: string;\n    description?: string;\n    created_at: string;\n    updated_at: string;\n    is_template: boolean;\n    database_type: string;\n}\n\ninterface Framework {\n    name: string;\n    info: {\n        name: string;\n        version: string;\n        description: string;\n    };\n    supportedFiles: string[];\n}\n\nconst DiagramsPage: React.FC = () => {\n    const [diagrams, setDiagrams] = useState<Diagram[]>([]);\n    const [frameworks, setFrameworks] = useState<Framework[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [showCreateModal, setShowCreateModal] = useState(false);\n    const [exportingDiagram, setExportingDiagram] = useState<string | null>(null);\n    const [selectedFramework, setSelectedFramework] = useState<string>('yii2');\n    const [namespace, setNamespace] = useState<string>('app');\n\n    const [newDiagram, setNewDiagram] = useState({\n        name: '',\n        description: '',\n        database_type: 'postgresql'\n    });\n\n    useEffect(() => {\n        fetchDiagrams();\n        fetchFrameworks();\n    }, []);\n\n    const fetchDiagrams = async () => {\n        try {\n            const response = await fetch('/api/diagrams', {\n                headers: {\n                    'Authorization': `Bearer ${localStorage.getItem('token')}`\n                }\n            });\n            \n            if (response.ok) {\n                const data = await response.json();\n                setDiagrams(data.diagrams || []);\n            }\n        } catch (error) {\n            console.error('Error fetching diagrams:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const fetchFrameworks = async () => {\n        try {\n            const response = await fetch('/api/export/frameworks', {\n                headers: {\n                    'Authorization': `Bearer ${localStorage.getItem('token')}`\n                }\n            });\n            \n            if (response.ok) {\n                const data = await response.json();\n                setFrameworks(data.frameworks || []);\n            }\n        } catch (error) {\n            console.error('Error fetching frameworks:', error);\n        }\n    };\n\n    const handleCreateDiagram = async () => {\n        try {\n            const response = await fetch('/api/diagrams', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${localStorage.getItem('token')}`\n                },\n                body: JSON.stringify(newDiagram)\n            });\n\n            if (response.ok) {\n                setShowCreateModal(false);\n                setNewDiagram({ name: '', description: '', database_type: 'postgresql' });\n                fetchDiagrams();\n            }\n        } catch (error) {\n            console.error('Error creating diagram:', error);\n        }\n    };\n\n    const handleExportDiagram = async (diagramId: string) => {\n        try {\n            setExportingDiagram(diagramId);\n            \n            const response = await fetch(`/api/export/${selectedFramework}/${diagramId}`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${localStorage.getItem('token')}`\n                },\n                body: JSON.stringify({\n                    namespace: namespace\n                })\n            });\n\n            if (response.ok) {\n                const blob = await response.blob();\n                const url = window.URL.createObjectURL(blob);\n                const a = document.createElement('a');\n                a.href = url;\n                \n                // Get filename from response headers\n                const contentDisposition = response.headers.get('content-disposition');\n                const filename = contentDisposition \n                    ? contentDisposition.split('filename=')[1]?.replace(/\"/g, '') \n                    : `diagram_${selectedFramework}_export.zip`;\n                \n                a.download = filename;\n                document.body.appendChild(a);\n                a.click();\n                window.URL.revokeObjectURL(url);\n                document.body.removeChild(a);\n            } else {\n                const errorData = await response.json();\n                alert(errorData.error || 'Export failed');\n            }\n        } catch (error) {\n            console.error('Error exporting diagram:', error);\n            alert('Export failed');\n        } finally {\n            setExportingDiagram(null);\n        }\n    };\n\n    const handleDeleteDiagram = async (diagramId: string) => {\n        if (!confirm('Are you sure you want to delete this diagram?')) return;\n\n        try {\n            const response = await fetch(`/api/diagrams/${diagramId}`, {\n                method: 'DELETE',\n                headers: {\n                    'Authorization': `Bearer ${localStorage.getItem('token')}`\n                }\n            });\n\n            if (response.ok) {\n                fetchDiagrams();\n            }\n        } catch (error) {\n            console.error('Error deleting diagram:', error);\n        }\n    };\n\n    const formatDate = (dateString: string) => {\n        return new Date(dateString).toLocaleDateString('en-US', {\n            year: 'numeric',\n            month: 'short',\n            day: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit'\n        });\n    };\n\n    if (loading) {\n        return (\n            <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-6\">\n                <div className=\"max-w-7xl mx-auto\">\n                    <div className=\"flex items-center justify-center h-64\">\n                        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-6\">\n            <div className=\"max-w-7xl mx-auto\">\n                {/* Header */}\n                <div className=\"flex justify-between items-center mb-8\">\n                    <div>\n                        <h1 className=\"text-3xl font-bold text-gray-900\">My Diagrams</h1>\n                        <p className=\"text-gray-600 mt-2\">Create and manage your database diagrams</p>\n                    </div>\n                    <motion.button\n                        whileHover={{ scale: 1.05 }}\n                        whileTap={{ scale: 0.95 }}\n                        onClick={() => setShowCreateModal(true)}\n                        className=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\n                    >\n                        <Plus className=\"h-5 w-5\" />\n                        New Diagram\n                    </motion.button>\n                </div>\n\n                {/* Export Controls */}\n                <div className=\"bg-white rounded-lg shadow-sm p-6 mb-8\">\n                    <h3 className=\"text-lg font-semibold mb-4\">Export Settings</h3>\n                    <div className=\"flex gap-4 items-center\">\n                        <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Framework</label>\n                            <select\n                                value={selectedFramework}\n                                onChange={(e) => setSelectedFramework(e.target.value)}\n                                className=\"border border-gray-300 rounded-lg px-3 py-2 min-w-[120px]\"\n                            >\n                                {frameworks.map((framework) => (\n                                    <option key={framework.name} value={framework.name}>\n                                        {framework.info.name} {framework.info.version}\n                                    </option>\n                                ))}\n                            </select>\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Namespace</label>\n                            <input\n                                type=\"text\"\n                                value={namespace}\n                                onChange={(e) => setNamespace(e.target.value)}\n                                placeholder=\"app\"\n                                className=\"border border-gray-300 rounded-lg px-3 py-2 min-w-[120px]\"\n                            />\n                        </div>\n                    </div>\n                </div>\n\n                {/* Diagrams Grid */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                    {diagrams.map((diagram) => (\n                        <motion.div\n                            key={diagram.id}\n                            initial={{ opacity: 0, y: 20 }}\n                            animate={{ opacity: 1, y: 0 }}\n                            className=\"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow p-6\"\n                        >\n                            <div className=\"flex items-start justify-between mb-4\">\n                                <div className=\"flex items-center gap-3\">\n                                    <div className=\"p-2 bg-blue-100 rounded-lg\">\n                                        <FileText className=\"h-6 w-6 text-blue-600\" />\n                                    </div>\n                                    <div>\n                                        <h3 className=\"font-semibold text-gray-900\">{diagram.name}</h3>\n                                        <p className=\"text-sm text-gray-500\">{diagram.database_type}</p>\n                                    </div>\n                                </div>\n                            </div>\n\n                            {diagram.description && (\n                                <p className=\"text-gray-600 text-sm mb-4 line-clamp-2\">\n                                    {diagram.description}\n                                </p>\n                            )}\n\n                            <div className=\"flex items-center gap-2 text-sm text-gray-500 mb-4\">\n                                <Clock className=\"h-4 w-4\" />\n                                <span>Updated {formatDate(diagram.updated_at)}</span>\n                            </div>\n\n                            <div className=\"flex justify-between gap-2\">\n                                <div className=\"flex gap-2\">\n                                    <motion.button\n                                        whileHover={{ scale: 1.05 }}\n                                        whileTap={{ scale: 0.95 }}\n                                        onClick={() => window.location.href = `/diagram/${diagram.id}`}\n                                        className=\"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\n                                        title=\"View Diagram\"\n                                    >\n                                        <Eye className=\"h-4 w-4\" />\n                                    </motion.button>\n                                    <motion.button\n                                        whileHover={{ scale: 1.05 }}\n                                        whileTap={{ scale: 0.95 }}\n                                        onClick={() => window.location.href = `/diagram/${diagram.id}/edit`}\n                                        className=\"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors\"\n                                        title=\"Edit Diagram\"\n                                    >\n                                        <Edit className=\"h-4 w-4\" />\n                                    </motion.button>\n                                    <motion.button\n                                        whileHover={{ scale: 1.05 }}\n                                        whileTap={{ scale: 0.95 }}\n                                        onClick={() => handleDeleteDiagram(diagram.id)}\n                                        className=\"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\n                                        title=\"Delete Diagram\"\n                                    >\n                                        <Trash2 className=\"h-4 w-4\" />\n                                    </motion.button>\n                                </div>\n                                <motion.button\n                                    whileHover={{ scale: 1.05 }}\n                                    whileTap={{ scale: 0.95 }}\n                                    onClick={() => handleExportDiagram(diagram.id)}\n                                    disabled={exportingDiagram === diagram.id}\n                                    className=\"bg-green-600 text-white px-3 py-1 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 text-sm disabled:opacity-50\"\n                                >\n                                    <Download className=\"h-4 w-4\" />\n                                    {exportingDiagram === diagram.id ? 'Exporting...' : 'Export'}\n                                </motion.button>\n                            </div>\n                        </motion.div>\n                    ))}\n                </div>\n\n                {diagrams.length === 0 && (\n                    <div className=\"text-center py-12\">\n                        <FileText className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No diagrams yet</h3>\n                        <p className=\"text-gray-600 mb-6\">Create your first database diagram to get started</p>\n                        <motion.button\n                            whileHover={{ scale: 1.05 }}\n                            whileTap={{ scale: 0.95 }}\n                            onClick={() => setShowCreateModal(true)}\n                            className=\"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors\"\n                        >\n                            Create Diagram\n                        </motion.button>\n                    </div>\n                )}\n\n                {/* Create Modal */}\n                {showCreateModal && (\n                    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n                        <motion.div\n                            initial={{ opacity: 0, scale: 0.95 }}\n                            animate={{ opacity: 1, scale: 1 }}\n                            className=\"bg-white rounded-lg p-6 w-full max-w-md\"\n                        >\n                            <h2 className=\"text-xl font-semibold mb-4\">Create New Diagram</h2>\n                            \n                            <div className=\"space-y-4\">\n                                <div>\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Name</label>\n                                    <input\n                                        type=\"text\"\n                                        value={newDiagram.name}\n                                        onChange={(e) => setNewDiagram({ ...newDiagram, name: e.target.value })}\n                                        className=\"w-full border border-gray-300 rounded-lg px-3 py-2\"\n                                        placeholder=\"My Database Schema\"\n                                    />\n                                </div>\n                                \n                                <div>\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n                                    <textarea\n                                        value={newDiagram.description}\n                                        onChange={(e) => setNewDiagram({ ...newDiagram, description: e.target.value })}\n                                        className=\"w-full border border-gray-300 rounded-lg px-3 py-2\"\n                                        placeholder=\"Optional description\"\n                                        rows={3}\n                                    />\n                                </div>\n                                \n                                <div>\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Database Type</label>\n                                    <select\n                                        value={newDiagram.database_type}\n                                        onChange={(e) => setNewDiagram({ ...newDiagram, database_type: e.target.value })}\n                                        className=\"w-full border border-gray-300 rounded-lg px-3 py-2\"\n                                    >\n                                        <option value=\"postgresql\">PostgreSQL</option>\n                                        <option value=\"mysql\">MySQL</option>\n                                        <option value=\"sqlite\">SQLite</option>\n                                    </select>\n                                </div>\n                            </div>\n\n                            <div className=\"flex gap-3 mt-6\">\n                                <button\n                                    onClick={() => setShowCreateModal(false)}\n                                    className=\"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50\"\n                                >\n                                    Cancel\n                                </button>\n                                <button\n                                    onClick={handleCreateDiagram}\n                                    className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n                                >\n                                    Create\n                                </button>\n                            </div>\n                        </motion.div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default DiagramsPage; ","import React, { useState, useRef, useEffect } from 'react';\nimport { Plus, Trash2, Edit2, Home, Grid3X3, Download, ChevronUp, ChevronDown, ChevronDown as ChevronDownIcon, ChevronRight } from 'lucide-react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuthStore } from '@/store/authStore';\n\ninterface Column {\n  id: string;\n  name: string;\n  type: string;\n  isPrimaryKey: boolean;\n  isForeignKey: boolean;\n  isNullable: boolean;\n  referencedTable?: string;\n  referencedColumn?: string;\n  defaultValue?: string;\n}\n\ninterface Table {\n  id: string;\n  name: string;\n  x: number;\n  y: number;\n  columns: Column[];\n  isCollapsed?: boolean;\n  priority?: number;\n  color?: string;\n}\n\ninterface Relationship {\n  id: string;\n  fromTable: string;\n  fromColumn: string;\n  toTable: string;\n  toColumn: string;\n}\n\nexport const DiagramEditorPage: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const [tables, setTables] = useState<Table[]>([]);\n  const [relationships, setRelationships] = useState<Relationship[]>([]);\n\n  // const [selectedTable, setSelectedTable] = useState<string | null>(null);\n  const [isAddingTable, setIsAddingTable] = useState(false);\n  const [newTableName, setNewTableName] = useState('');\n  const [editingColumn, setEditingColumn] = useState<{ tableId: string; columnId: string } | null>(null);\n  const [isDragging, setIsDragging] = useState<string | null>(null);\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n  // const [isCreatingRelationship, setIsCreatingRelationship] = useState(false);\n  // const [relationshipStart, setRelationshipStart] = useState<{ tableId: string; columnId: string } | null>(null);\n  const [showForeignKeyModal, setShowForeignKeyModal] = useState(false);\n  const [foreignKeyData, setForeignKeyData] = useState<{\n    fromTableId: string;\n    fromColumnId: string;\n    toTableId?: string;\n    toColumnId?: string;\n  } | null>(null);\n  \n  const [showTableEditModal, setShowTableEditModal] = useState(false);\n  const [editingTable, setEditingTable] = useState<Table | null>(null);\n\n  const [isSaving, setIsSaving] = useState(false);\n  const [diagramName, setDiagramName] = useState('Untitled Diagram');\n  const [diagramId, setDiagramId] = useState<string | null>(null);\n  const [saveStatus, setSaveStatus] = useState<'idle' | 'saving' | 'saved' | 'error'>('idle');\n  const [autoSave, setAutoSave] = useState(true);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  \n  // Export states\n  const [isExporting, setIsExporting] = useState(false);\n  const [showExportModal, setShowExportModal] = useState(false);\n  const [exportType, setExportType] = useState<'framework' | 'sql' | 'pdf'>('framework');\n  \n  const [exportConfig, setExportConfig] = useState({\n    framework: 'yii2',\n    namespace: 'xbsoft\\\\untitled_diagram',\n    schemaName: 'public',\n    databaseType: 'postgresql',\n    generateMigration: true,\n    generateModel: true,\n    generateRepository: true,\n    selectedTables: [] as string[],\n    skipExistingEntities: true,\n    documentTitle: ''\n  });\n\n  // Debug: Log export type changes\n  useEffect(() => {\n    console.log('Export type changed to:', exportType);\n  }, [exportType]);\n\n  // Initialize document title when export modal opens\n  useEffect(() => {\n    if (showExportModal && (!exportConfig.documentTitle || exportConfig.documentTitle === '')) {\n      const newTitle = diagramName || 'Database Schema Documentation';\n      setExportConfig(prev => ({\n        ...prev,\n        documentTitle: newTitle\n      }));\n    }\n  }, [showExportModal, diagramName, exportConfig.documentTitle]);\n  const [orderedTables, setOrderedTables] = useState<Table[]>([]);\n  const [draggedTableId, setDraggedTableId] = useState<string | null>(null);\n\n  const canvasRef = useRef<HTMLDivElement>(null);\n  const { token, isAuthenticated } = useAuthStore();\n\n  // Sort tables by priority first, then by dependencies\n  const sortTablesByDependencies = (tables: Table[]): Table[] => {\n    // First, sort by priority (if priority property exists)\n    const tablesWithPriority = tables.map(table => {\n      const priority = table.priority || 999;\n      return { table, priority };\n    });\n    \n    // Sort by priority (lower number = higher priority)\n    tablesWithPriority.sort((a, b) => a.priority - b.priority);\n    \n    const sortedTables = tablesWithPriority.map(item => item.table);\n    \n    // For export modal, we only need priority sorting\n    // For migration generation, we need dependency sorting\n    return sortedTables;\n  };\n\n  // Sort tables by dependencies for migration generation\n  const sortTablesByDependenciesForMigration = (tables: Table[]): Table[] => {\n    // First, sort by priority (if priority property exists)\n    const tablesWithPriority = tables.map(table => {\n      const priority = table.priority || 999;\n      return { table, priority };\n    });\n    \n    // Sort by priority (lower number = higher priority)\n    tablesWithPriority.sort((a, b) => a.priority - b.priority);\n    \n    const sortedTables = tablesWithPriority.map(item => item.table);\n    \n    // Then apply dependency sorting within same priority groups\n    const sorted: Table[] = [];\n    const visited = new Set<string>();\n    const visiting = new Set<string>();\n    \n    // First, add all independent tables (tables with no foreign keys)\n    const independentTables = sortedTables.filter(table => \n      !relationships.some(rel => rel.fromTable === table.name)\n    );\n    \n    // Add independent tables first\n    for (const table of independentTables) {\n      if (!visited.has(table.name)) {\n        visited.add(table.name);\n        sorted.push(table);\n      }\n    }\n    \n    const visit = (table: Table) => {\n      if (visiting.has(table.name)) {\n        // Circular dependency detected, add table anyway\n        return;\n      }\n      if (visited.has(table.name)) {\n        return;\n      }\n      \n      visiting.add(table.name);\n      \n      // Find tables that this table depends on (foreign keys)\n      const dependencies = relationships\n        .filter(rel => rel.fromTable === table.name)\n        .map(rel => tables.find(t => t.name === rel.toTable))\n        .filter((dep): dep is Table => dep !== undefined);\n      \n      // Visit dependencies first\n      for (const dep of dependencies) {\n        visit(dep);\n      }\n      \n      visiting.delete(table.name);\n      visited.add(table.name);\n      sorted.push(table);\n    };\n    \n    // Visit dependent tables (tables with foreign keys)\n    const dependentTables = tables.filter(table => \n      relationships.some(rel => rel.fromTable === table.name)\n    );\n    \n    for (const table of dependentTables) {\n      visit(table);\n    }\n    \n    return sorted;\n  };\n\n  // Function to generate namespace from diagram name\n  const generateNamespace = (diagramName: string) => {\n    // First, clean the name but keep the original case\n    let cleanName = diagramName\n      .replace(/[^a-zA-Z0-9\\s]/g, '') // Remove special characters but keep letters and numbers\n      .replace(/\\s+/g, '_') // Replace spaces with underscores\n      .replace(/^[^a-zA-Z]/, 'd'); // Ensure it starts with a letter\n    \n    // Make only the first letter lowercase\n    if (cleanName.length > 0) {\n      cleanName = cleanName.charAt(0).toLowerCase() + cleanName.slice(1);\n    }\n    \n    return `xbsoft\\\\${cleanName}`;\n  };\n\n  // Update namespace when diagram name changes\n  useEffect(() => {\n    console.log('Diagram name changed to:', diagramName);\n    const newNamespace = generateNamespace(diagramName);\n    console.log('Generated namespace:', newNamespace);\n    setExportConfig(prev => ({\n      ...prev,\n      namespace: newNamespace\n    }));\n  }, [diagramName]);\n\n  // Initialize selected tables and ordered tables when modal opens\n  useEffect(() => {\n    if (showExportModal && tables.length > 0) {\n      console.log('Export modal opened, diagram name:', diagramName);\n      console.log('Current export config namespace:', exportConfig.namespace);\n      console.log('Current export type:', exportType);\n      \n      // Reset export type to framework when modal opens\n      setExportType('framework');\n      \n      // If diagram name is still undefined, try to fetch it\n      if (!diagramName || diagramName === 'Untitled Diagram') {\n        console.log('Diagram name is undefined, attempting to fetch diagram data...');\n        if (diagramId && token) {\n          loadDiagram(diagramId);\n        }\n      }\n      \n      const allTableNames = tables.map(table => table.name);\n      setExportConfig(prev => ({\n        ...prev,\n        selectedTables: allTableNames\n      }));\n      \n      // Initialize ordered tables with priority-sorted tables\n      const prioritySortedTables = [...tables].sort((a, b) => {\n        const priorityA = a.priority || 999;\n        const priorityB = b.priority || 999;\n        return priorityA - priorityB; // Ascending order\n      });\n      setOrderedTables(prioritySortedTables);\n    }\n  }, [showExportModal, tables, relationships]);\n\n  // Update ordered tables when tables or relationships change\n  useEffect(() => {\n    if (tables.length > 0) {\n      // First sort by priority (ascending), then by dependencies\n      const prioritySortedTables = [...tables].sort((a, b) => {\n        const priorityA = a.priority || 999;\n        const priorityB = b.priority || 999;\n        return priorityA - priorityB; // Ascending order\n      });\n      \n      const sortedTables = sortTablesByDependencies(prioritySortedTables);\n      console.log('🔍 Table sorting debug:', {\n        original: tables.map(t => t.name),\n        prioritySorted: prioritySortedTables.map(t => `${t.name} (P${t.priority || 'no priority'})`),\n        finalSorted: sortedTables.map(t => `${t.name} (P${t.priority || 'no priority'})`),\n        relationships: relationships.map(r => `${r.fromTable} → ${r.toTable}`)\n      });\n      setOrderedTables(prioritySortedTables);\n    }\n  }, [tables, relationships]);\n\n  // Load diagram data\n  const loadDiagram = async (diagramId: string) => {\n    if (!token) return;\n\n    try {\n              const response = await fetch(`/api/diagrams/${diagramId}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        const diagram = result.data;\n        \n        // Debug: Log the diagram data to see the structure\n        console.log('Diagram data:', diagram);\n        console.log('Diagram title:', diagram.title);\n        console.log('Diagram name:', diagram.name);\n        console.log('Canvas data:', diagram.canvas_data);\n        \n        // Set the diagram data - try multiple possible fields\n        const diagramTitle = diagram.title || diagram.name || diagram.diagram_name || 'Untitled Diagram';\n        console.log('Final diagram name:', diagramTitle);\n        setDiagramName(diagramTitle);\n        setDiagramId(diagram.id);\n        \n        // Parse the canvas data\n        if (diagram.canvas_data) {\n          const canvasData = typeof diagram.canvas_data === 'string' \n            ? JSON.parse(diagram.canvas_data) \n            : diagram.canvas_data;\n          \n          console.log('Parsed canvas data:', canvasData);\n          console.log('Tables from canvas:', canvasData.tables);\n          \n          if (canvasData.tables) {\n            // Add priority to existing tables if they don't have it\n            const tablesWithPriority = canvasData.tables.map((table: any, index: number) => ({\n              ...table,\n              priority: table.priority || (index + 1)\n            }));\n            console.log('Tables with priority:', tablesWithPriority);\n            setTables(tablesWithPriority);\n          }\n          if (canvasData.relationships) {\n            setRelationships(canvasData.relationships);\n          }\n        }\n        \n        setHasUnsavedChanges(false);\n      } else {\n        console.error('Failed to load diagram');\n      }\n    } catch (error) {\n      console.error('Error loading diagram:', error);\n    }\n  };\n\n  // Initialize diagram on mount\n  useEffect(() => {\n    if (id && token) {\n      loadDiagram(id);\n    } else if (!id) {\n      // New diagram - start fresh\n      setTables([]);\n      setRelationships([]);\n      setDiagramName('Untitled Diagram');\n      setDiagramId(null);\n      setHasUnsavedChanges(false);\n    }\n  }, [id, token]);\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.ctrlKey && e.key === 's') {\n        e.preventDefault();\n        if (saveStatus !== 'saving') {\n          saveDiagram();\n        }\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [saveStatus]); // Remove saveDiagram dependency to avoid the error\n\n  // Auto-save functionality\n  useEffect(() => {\n    if (!autoSave || !hasUnsavedChanges || !diagramId) return;\n\n    const autoSaveTimer = setTimeout(() => {\n      if (saveStatus === 'idle') {\n        saveDiagram();\n      }\n    }, 30000); // Auto-save every 30 seconds\n\n    return () => clearTimeout(autoSaveTimer);\n  }, [tables, relationships, diagramName, autoSave, hasUnsavedChanges, diagramId, saveStatus]);\n\n  // Track unsaved changes\n  useEffect(() => {\n    setHasUnsavedChanges(true);\n  }, [tables, relationships, diagramName]);\n\n  const addTable = () => {\n    if (newTableName.trim()) {\n      // Calculate priority: current table count + 1\n      const priority = tables.length + 1;\n      \n      const newTable: Table = {\n        id: `${newTableName}-table`,\n        name: newTableName,\n        x: 100 + tables.length * 50,\n        y: 150 + tables.length * 50,\n        priority: priority,\n        columns: [\n          {\n            id: `${newTableName}-id`,\n            name: 'id',\n            type: 'UUID',\n            isPrimaryKey: true,\n            isForeignKey: false,\n            isNullable: false\n          },\n          // Default audit columns\n          {\n            id: `${newTableName}-created_by`,\n            name: 'created_by',\n            type: 'INTEGER',\n            isPrimaryKey: false,\n            isForeignKey: false,\n            isNullable: true\n          },\n          {\n            id: `${newTableName}-updated_by`,\n            name: 'updated_by',\n            type: 'INTEGER',\n            isPrimaryKey: false,\n            isForeignKey: false,\n            isNullable: true\n          },\n          {\n            id: `${newTableName}-created_at`,\n            name: 'created_at',\n            type: 'INTEGER',\n            isPrimaryKey: false,\n            isForeignKey: false,\n            isNullable: true\n          },\n          {\n            id: `${newTableName}-updated_at`,\n            name: 'updated_at',\n            type: 'INTEGER',\n            isPrimaryKey: false,\n            isForeignKey: false,\n            isNullable: true\n          },\n          {\n            id: `${newTableName}-deleted_by`,\n            name: 'deleted_by',\n            type: 'INTEGER',\n            isPrimaryKey: false,\n            isForeignKey: false,\n            isNullable: true\n          },\n          {\n            id: `${newTableName}-deleted_at`,\n            name: 'deleted_at',\n            type: 'INTEGER',\n            isPrimaryKey: false,\n            isForeignKey: false,\n            isNullable: true\n          },\n          {\n            id: `${newTableName}-is_deleted`,\n            name: 'is_deleted',\n            type: 'BOOLEAN',\n            isPrimaryKey: false,\n            isForeignKey: false,\n            isNullable: true\n          },\n          {\n            id: `${newTableName}-status`,\n            name: 'status',\n            type: 'INTEGER',\n            isPrimaryKey: false,\n            isForeignKey: false,\n            isNullable: true\n          }\n        ]\n      };\n      setTables([...tables, newTable]);\n      setNewTableName('');\n      setIsAddingTable(false);\n    }\n  };\n\n  const addColumn = (tableId: string) => {\n    const newColumn: Column = {\n      id: `${tableId}-${Date.now()}`,\n      name: 'new_column',\n      type: 'VARCHAR',\n      isPrimaryKey: false,\n      isForeignKey: false,\n      isNullable: true\n    };\n\n    setTables(tables.map(table => \n      table.id === tableId \n        ? { ...table, columns: [...table.columns, newColumn] }\n        : table\n    ));\n  };\n\n  const updateColumn = (tableId: string, columnId: string, updates: Partial<Column>) => {\n    setTables(tables.map(table => \n      table.id === tableId \n        ? {\n            ...table,\n            columns: table.columns.map(column =>\n              column.id === columnId ? { ...column, ...updates } : column\n            )\n          }\n        : table\n    ));\n  };\n\n  const deleteColumn = (tableId: string, columnId: string) => {\n    const table = tables.find(t => t.id === tableId);\n    const column = table?.columns.find(c => c.id === columnId);\n    \n    if (table && column) {\n      // Remove any relationships involving this column\n      setRelationships(relationships.filter(rel => \n        !(rel.fromTable === table.name && rel.fromColumn === column.name) &&\n        !(rel.toTable === table.name && rel.toColumn === column.name)\n      ));\n    }\n\n    setTables(tables.map(table => \n      table.id === tableId \n        ? { ...table, columns: table.columns.filter(column => column.id !== columnId) }\n        : table\n    ));\n  };\n\n  const moveColumnUp = (tableId: string, columnId: string) => {\n    setTables(tables.map(table => {\n      if (table.id !== tableId) return table;\n      \n      const columnIndex = table.columns.findIndex(col => col.id === columnId);\n      if (columnIndex <= 0) return table; // Can't move up if it's the first column\n      \n      const newColumns = [...table.columns];\n      [newColumns[columnIndex - 1], newColumns[columnIndex]] = [newColumns[columnIndex], newColumns[columnIndex - 1]];\n      \n      return { ...table, columns: newColumns };\n    }));\n  };\n\n  const moveColumnDown = (tableId: string, columnId: string) => {\n    setTables(tables.map(table => {\n      if (table.id !== tableId) return table;\n      \n      const columnIndex = table.columns.findIndex(col => col.id === columnId);\n      if (columnIndex >= table.columns.length - 1) return table; // Can't move down if it's the last column\n      \n      const newColumns = [...table.columns];\n      [newColumns[columnIndex], newColumns[columnIndex + 1]] = [newColumns[columnIndex + 1], newColumns[columnIndex]];\n      \n      return { ...table, columns: newColumns };\n    }));\n  };\n\n  const toggleTableCollapse = (tableId: string) => {\n    setTables(tables.map(table => \n      table.id === tableId \n        ? { ...table, isCollapsed: !table.isCollapsed }\n        : table\n    ));\n  };\n\n  const deleteTable = (tableId: string) => {\n    setTables(tables.filter(table => table.id !== tableId));\n    // Also remove any relationships involving this table\n    setRelationships(relationships.filter(rel => \n      rel.fromTable !== tableId.replace('-table', '') && rel.toTable !== tableId.replace('-table', '')\n    ));\n  };\n\n  const createForeignKey = (fromTableId: string, fromColumnId: string, toTableId: string, toColumnId: string) => {\n    const fromTable = tables.find(t => t.id === fromTableId);\n    const toTable = tables.find(t => t.id === toTableId);\n    const fromColumn = fromTable?.columns.find(c => c.id === fromColumnId);\n    const toColumn = toTable?.columns.find(c => c.id === toColumnId);\n    \n    if (!fromTable || !toTable || !fromColumn || !toColumn) return;\n\n    // First, remove any existing relationships for this column\n    if (fromColumn.isForeignKey) {\n      // Remove existing relationships involving this column\n      setRelationships(prev => prev.filter(rel => \n        !(rel.toTable === fromTable.name && rel.toColumn === fromColumn.name)\n      ));\n    }\n\n    // Update the column to be a foreign key\n    updateColumn(fromTableId, fromColumnId, {\n      isForeignKey: true,\n      referencedTable: toTable.name,\n      referencedColumn: toColumn.name\n    });\n\n    // Add new relationship\n    const newRelationship: Relationship = {\n      id: `rel-${Date.now()}`,\n      fromTable: toTable.name,\n      fromColumn: toColumn.name,\n      toTable: fromTable.name,\n      toColumn: fromColumn.name\n    };\n\n    setRelationships(prev => [...prev, newRelationship]);\n  };\n\n  // Drag & Drop Functions\n  const handleMouseDown = (e: React.MouseEvent, tableId: string) => {\n    e.preventDefault();\n    const table = tables.find(t => t.id === tableId);\n    if (!table) return;\n\n    const rect = e.currentTarget.getBoundingClientRect();\n    const canvasRect = canvasRef.current?.getBoundingClientRect();\n    if (!canvasRect) return;\n\n    setIsDragging(tableId);\n    setDragOffset({\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top\n    });\n  };\n\n  const handleMouseMove = (e: React.MouseEvent) => {\n    if (!isDragging || !canvasRef.current) return;\n\n    const canvasRect = canvasRef.current.getBoundingClientRect();\n    const newX = Math.round(e.clientX - canvasRect.left - dragOffset.x);\n    const newY = Math.round(e.clientY - canvasRect.top - dragOffset.y);\n\n    setTables(tables.map(table =>\n      table.id === isDragging\n        ? { ...table, x: Math.max(0, newX), y: Math.max(0, newY) }\n        : table\n    ));\n  };\n\n  const handleMouseUp = () => {\n    setIsDragging(null);\n    setDragOffset({ x: 0, y: 0 });\n  };\n\n  // Foreign Key Creation Functions\n  const startForeignKeyCreation = (tableId: string, columnId: string) => {\n    const table = tables.find(t => t.id === tableId);\n    const column = table?.columns.find(c => c.id === columnId);\n    \n    // If column already has a foreign key, pre-populate the modal with existing data\n    let initialData = {\n      fromTableId: tableId,\n      fromColumnId: columnId,\n      toTableId: undefined as string | undefined,\n      toColumnId: undefined as string | undefined\n    };\n\n    if (column?.isForeignKey && column.referencedTable && column.referencedColumn) {\n      const referencedTable = tables.find(t => t.name === column.referencedTable);\n      const referencedColumn = referencedTable?.columns.find(c => c.name === column.referencedColumn);\n      \n      if (referencedTable && referencedColumn) {\n        initialData.toTableId = referencedTable.id;\n        initialData.toColumnId = referencedColumn.id;\n      }\n    }\n\n    setForeignKeyData(initialData);\n    setShowForeignKeyModal(true);\n  };\n\n  const completeForeignKeyCreation = () => {\n    if (foreignKeyData?.fromTableId && foreignKeyData?.fromColumnId && \n        foreignKeyData?.toTableId && foreignKeyData?.toColumnId) {\n      createForeignKey(\n        foreignKeyData.fromTableId,\n        foreignKeyData.fromColumnId,\n        foreignKeyData.toTableId,\n        foreignKeyData.toColumnId\n      );\n    }\n    setShowForeignKeyModal(false);\n    setForeignKeyData(null);\n  };\n\n  // Helper function to get column position within a table\n  const getColumnPosition = (tableName: string, columnName: string) => {\n    const table = tables.find(t => t.name === tableName);\n    if (!table) return null;\n    \n    const columnIndex = table.columns.findIndex(c => c.name === columnName);\n    if (columnIndex === -1) return null;\n    \n    const headerHeight = 50; // Height of table header\n    const rowHeight = 32; // Height of each column row\n    const padding = 16; // Padding inside table\n    const tableWidth = 300; // Estimated actual table width (accounting for content width)\n    \n    if (table.isCollapsed) {\n      // For collapsed tables, connect to the center of the table border\n      const centerY = table.y + (headerHeight / 2);\n      \n      return {\n        x: Math.round(table.x + tableWidth + 12), // Right edge + more margin to clear table\n        y: Math.round(centerY), // Vertical center of collapsed table\n        leftX: Math.round(table.x - 12), // Left edge - more margin to clear table\n        leftY: Math.round(centerY), // Same position for left side\n      };\n    }\n    \n    // For expanded tables, connect to the specific column row at the table border\n    const columnY = table.y + headerHeight + padding + (columnIndex * rowHeight) + (rowHeight / 2);\n    \n    return {\n      x: Math.round(table.x + tableWidth + 12), // Right edge + more margin to clear table\n      y: Math.round(columnY), // Specific column row position\n      leftX: Math.round(table.x - 12), // Left edge - more margin to clear table\n      leftY: Math.round(columnY), // Same column row position for left side\n    };\n  };\n\n  const deleteRelationship = (relationshipId: string) => {\n    const relationship = relationships.find(r => r.id === relationshipId);\n    if (relationship) {\n      // Find and update the foreign key column\n      const toTable = tables.find(t => t.name === relationship.toTable);\n      const toColumn = toTable?.columns.find(c => c.name === relationship.toColumn);\n      \n      if (toTable && toColumn) {\n        updateColumn(toTable.id, toColumn.id, {\n          isForeignKey: false,\n          referencedTable: undefined,\n          referencedColumn: undefined\n        });\n      }\n    }\n    \n    setRelationships(relationships.filter(rel => rel.id !== relationshipId));\n  };\n\n  const removeForeignKey = (tableId: string, columnId: string) => {\n    const table = tables.find(t => t.id === tableId);\n    const column = table?.columns.find(c => c.id === columnId);\n    \n    if (table && column && column.isForeignKey) {\n      // Remove the relationship\n      setRelationships(prev => prev.filter(rel => \n        !(rel.toTable === table.name && rel.toColumn === column.name)\n      ));\n      \n      // Update the column to remove foreign key\n      updateColumn(tableId, columnId, {\n        isForeignKey: false,\n        referencedTable: undefined,\n        referencedColumn: undefined\n      });\n    }\n  };\n\n  const saveDiagram = async () => {\n    if (!isAuthenticated || !token) {\n      setSaveStatus('error');\n      setTimeout(() => setSaveStatus('idle'), 3000);\n      return;\n    }\n\n    setIsSaving(true);\n    setSaveStatus('saving');\n    \n    try {\n      const canvasData = {\n        tables: tables,\n        relationships: relationships\n      };\n      \n      console.log('Saving diagram with canvas data:', canvasData);\n      console.log('Tables being saved:', tables);\n      \n      const diagramData = {\n        title: diagramName,\n        canvas_data: JSON.stringify(canvasData),\n        description: `Database diagram with ${tables.length} tables and ${relationships.length} relationships`\n      };\n\n      const url = diagramId \n        ? `/api/diagrams/${diagramId}`\n        : '/api/diagrams';\n      \n      const method = diagramId ? 'PUT' : 'POST';\n\n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(diagramData)\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        console.log('Diagram saved successfully:', result);\n        \n        // Set diagram ID if it's a new diagram\n        if (!diagramId && result.data?.id) {\n          setDiagramId(result.data.id);\n        }\n        \n        setSaveStatus('saved');\n        setHasUnsavedChanges(false);\n        \n        // Reset to idle after 2 seconds\n        setTimeout(() => {\n          setSaveStatus('idle');\n        }, 2000);\n      } else {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to save diagram');\n      }\n    } catch (error) {\n      console.error('Error saving diagram:', error);\n      setSaveStatus('error');\n      \n      // Reset to idle after 3 seconds\n      setTimeout(() => {\n        setSaveStatus('idle');\n      }, 3000);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Table selection functions\n  const handleTableSelection = (tableName: string, isSelected: boolean) => {\n    setExportConfig(prev => ({\n      ...prev,\n      selectedTables: isSelected \n        ? [...prev.selectedTables, tableName]\n        : prev.selectedTables.filter(name => name !== tableName)\n    }));\n  };\n\n  const handleSelectAllTables = () => {\n    const allTableNames = tables.map(table => table.name);\n    setExportConfig(prev => ({\n      ...prev,\n      selectedTables: allTableNames\n    }));\n  };\n\n  const handleDeselectAllTables = () => {\n    setExportConfig(prev => ({\n      ...prev,\n      selectedTables: []\n    }));\n  };\n\n  // Drag and drop handlers for table ordering\n  const handleDragStart = (e: React.DragEvent, tableId: string) => {\n    setDraggedTableId(tableId);\n    e.dataTransfer.effectAllowed = 'move';\n  };\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n  };\n\n  const handleDrop = (e: React.DragEvent, targetTableId: string) => {\n    e.preventDefault();\n    \n    if (!draggedTableId || draggedTableId === targetTableId) {\n      setDraggedTableId(null);\n      return;\n    }\n\n    const draggedIndex = orderedTables.findIndex(table => table.id === draggedTableId);\n    const targetIndex = orderedTables.findIndex(table => table.id === targetTableId);\n    \n    if (draggedIndex === -1 || targetIndex === -1) {\n      setDraggedTableId(null);\n      return;\n    }\n\n    const newOrderedTables = [...orderedTables];\n    const [draggedTable] = newOrderedTables.splice(draggedIndex, 1);\n    newOrderedTables.splice(targetIndex, 0, draggedTable);\n    \n    setOrderedTables(newOrderedTables);\n    setDraggedTableId(null);\n  };\n\n  const handleDragEnd = () => {\n    setDraggedTableId(null);\n  };\n\n  // Export functions\n  const exportDiagram = async () => {\n    if (!diagramId || !token) {\n      alert('Please save the diagram first before exporting');\n      return;\n    }\n\n    console.log('Exporting diagram with type:', exportType);\n    console.log('Diagram ID:', diagramId);\n    console.log('Export config:', exportConfig);\n    console.log('Current exportType state:', exportType);\n\n    // Safety check - ensure export type is valid\n    if (!['framework', 'sql', 'pdf'].includes(exportType)) {\n      console.error('Invalid export type:', exportType);\n      alert('Invalid export type. Please try again.');\n      return;\n    }\n\n    // Additional safety check - ensure we're not using the old framework endpoint for SQL/PDF\n    if (exportType === 'sql' || exportType === 'pdf') {\n      console.log('Using new export endpoints for:', exportType);\n    } else {\n      console.log('Using framework export endpoint for:', exportType);\n    }\n\n    // Double-check export type before proceeding\n    console.log('Final export type check:', exportType);\n\n    setIsExporting(true);\n    try {\n      let response: Response;\n      let filename: string;\n      \n      // Force explicit check for export types\n      console.log('About to check export type. Current value:', exportType);\n      console.log('Type of exportType:', typeof exportType);\n      console.log('exportType === \"sql\":', exportType === 'sql');\n      console.log('exportType === \"pdf\":', exportType === 'pdf');\n      \n      if (exportType === 'sql') {\n        const url = `/api/export/sql/${diagramId}`;\n        console.log('✅ SQL EXPORT: Making SQL export request to:', url);\n        console.log('✅ SQL EXPORT: Request body:', {\n          databaseType: exportConfig.databaseType,\n          schemaName: exportConfig.schemaName\n        });\n        response = await fetch(url, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify({\n            databaseType: exportConfig.databaseType,\n            schemaName: exportConfig.schemaName\n          })\n        });\n        filename = `${diagramName}_schema_${Date.now()}.sql`;\n      } else if (exportType === 'pdf') {\n        const url = `/api/export/pdf/${diagramId}`;\n        console.log('✅ PDF EXPORT: Making PDF export request to:', url);\n        console.log('✅ PDF EXPORT: Request body:', {\n          databaseType: exportConfig.databaseType,\n          schemaName: exportConfig.schemaName,\n          documentTitle: exportConfig.documentTitle\n        });\n        response = await fetch(url, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify({\n            databaseType: exportConfig.databaseType,\n            schemaName: exportConfig.schemaName,\n            documentTitle: exportConfig.documentTitle\n          })\n        });\n        filename = `${diagramName}_documentation_${Date.now()}.pdf`;\n      } else {\n        // Framework export\n        console.log('🚨 FALLBACK TO FRAMEWORK EXPORT - This might be wrong!');\n        console.log('🚨 Export type was:', exportType);\n        const url = `/api/export/${exportConfig.framework}/${diagramId}`;\n        console.log('🔧 FRAMEWORK EXPORT: Making Framework export request to:', url);\n        console.log('🔧 FRAMEWORK EXPORT: Request body:', {\n          namespace: exportConfig.namespace,\n          schemaName: exportConfig.schemaName,\n          generateMigration: exportConfig.generateMigration,\n          generateModel: exportConfig.generateModel,\n          generateRepository: exportConfig.generateRepository,\n          selectedTables: exportConfig.selectedTables,\n          skipExistingEntities: exportConfig.skipExistingEntities,\n          tableOrder: sortTablesByDependenciesForMigration(tables).map(table => table.name),\n          tablesWithPriority: sortTablesByDependenciesForMigration(tables)\n        });\n        response = await fetch(url, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify({\n            namespace: exportConfig.namespace,\n            schemaName: exportConfig.schemaName,\n            generateMigration: exportConfig.generateMigration,\n            generateModel: exportConfig.generateModel,\n            generateRepository: exportConfig.generateRepository,\n            selectedTables: exportConfig.selectedTables,\n            skipExistingEntities: exportConfig.skipExistingEntities,\n            tableOrder: sortTablesByDependenciesForMigration(tables).map(table => table.name),\n          tablesWithPriority: sortTablesByDependenciesForMigration(tables)\n          })\n        });\n        filename = `${diagramName}_generated_codes_${Date.now()}.zip`;\n      }\n\n      if (response.ok) {\n        // Get the filename from the response header or use generated one\n        const contentDisposition = response.headers.get('content-disposition');\n        \n        if (contentDisposition) {\n          const filenameMatch = contentDisposition.match(/filename=\"(.+)\"/);\n          if (filenameMatch) {\n            filename = filenameMatch[1];\n          }\n        }\n\n        // Create a blob and download the file\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = filename;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n        \n        setShowExportModal(false);\n      } else {\n        const errorData = await response.json();\n        alert(`Export failed: ${errorData.error || 'Unknown error'}`);\n      }\n    } catch (error) {\n      console.error('Export error:', error);\n      alert('Export failed. Please try again.');\n    } finally {\n      setIsExporting(false);\n    }\n  };\n\n  return (\n    <div className=\"h-screen flex flex-col bg-gray-100\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b border-gray-200 h-16 flex-shrink-0\">\n        <div className=\"flex items-center justify-between h-full px-6\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"flex items-center space-x-2\">\n              <button\n                onClick={() => {\n                  if (hasUnsavedChanges && !confirm('You have unsaved changes. Are you sure you want to leave?')) {\n                    return;\n                  }\n                  navigate('/dashboard');\n                }}\n                className=\"flex items-center px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-md transition-colors\"\n                title=\"Dashboard\"\n              >\n                <Home className=\"w-4 h-4 mr-1\" />\n                Dashboard\n              </button>\n              <button\n                onClick={() => {\n                  if (hasUnsavedChanges && !confirm('You have unsaved changes. Are you sure you want to leave?')) {\n                    return;\n                  }\n                  navigate('/diagrams');\n                }}\n                className=\"flex items-center px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-md transition-colors\"\n                title=\"All Diagrams\"\n              >\n                <Grid3X3 className=\"w-4 h-4 mr-1\" />\n                Diagrams\n              </button>\n            </div>\n            <span className=\"text-sm text-gray-500\">•</span>\n            <h1 className=\"text-lg font-semibold text-gray-900\">Diagram Editor</h1>\n            <span className=\"text-sm text-gray-500\">•</span>\n            <div className=\"flex items-center space-x-2\">\n              <input\n                type=\"text\"\n                value={diagramName}\n                onChange={(e) => setDiagramName(e.target.value)}\n                className=\"text-sm text-gray-700 bg-transparent border-none outline-none focus:bg-white focus:border focus:border-gray-300 focus:px-2 focus:py-1 focus:rounded\"\n                placeholder=\"Diagram name\"\n              />\n              {hasUnsavedChanges && (\n                <span className=\"text-xs text-orange-600 font-medium\">•</span>\n              )}\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <button \n              onClick={() => {\n                if (confirm('Are you sure you want to create a new diagram? Unsaved changes will be lost.')) {\n                  // Reset diagram state\n                  setTables([]);\n                  setRelationships([]);\n                  setDiagramName('Untitled Diagram');\n                  setDiagramId(null);\n                  setSaveStatus('idle');\n                  setHasUnsavedChanges(false);\n                }\n              }}\n              className=\"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-md transition-colors\"\n            >\n              New\n            </button>\n            <button \n              onClick={() => setAutoSave(!autoSave)}\n              className={`px-3 py-1 text-sm rounded-md transition-colors ${\n                autoSave \n                  ? 'bg-green-100 text-green-700 hover:bg-green-200' \n                  : 'bg-gray-100 hover:bg-gray-200'\n              }`}\n              title={autoSave ? 'Auto-save enabled' : 'Auto-save disabled'}\n            >\n              Auto-save {autoSave ? '✓' : '✗'}\n            </button>\n            <button className=\"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-md transition-colors\">\n              Share\n            </button>\n            <button \n              onClick={() => setShowExportModal(true)}\n              disabled={!diagramId}\n              className=\"flex items-center px-3 py-1 text-sm bg-purple-600 hover:bg-purple-700 text-white rounded-md transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed\"\n              title={diagramId ? 'Export diagram code' : 'Save diagram first to export'}\n            >\n              <Download className=\"w-4 h-4 mr-1\" />\n              Export\n            </button>\n            <button\n              onClick={saveDiagram}\n              disabled={isSaving}\n              className={`px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-2 ${\n                saveStatus === 'saved' \n                  ? 'bg-green-600 hover:bg-green-700 text-white' \n                  : saveStatus === 'error'\n                  ? 'bg-red-600 hover:bg-red-700 text-white'\n                  : 'bg-blue-600 hover:bg-blue-700 text-white disabled:bg-blue-400 disabled:cursor-not-allowed'\n              }`}\n            >\n              {saveStatus === 'saving' && (\n                <svg className=\"animate-spin h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n              )}\n              {saveStatus === 'saved' && <span>✓</span>}\n              {saveStatus === 'error' && <span>✗</span>}\n              <span>\n                {saveStatus === 'saving' \n                  ? 'Saving...' \n                  : saveStatus === 'saved' \n                  ? 'Saved!' \n                  : saveStatus === 'error'\n                  ? 'Error'\n                  : diagramId ? 'Update' : 'Save'\n                }\n              </span>\n            </button>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"flex flex-1 overflow-hidden\">\n        {/* Left Sidebar */}\n        <div className=\"w-64 bg-white border-r border-gray-200 p-4 flex-shrink-0\">\n          <h3 className=\"text-lg font-semibold mb-4\">Database Tables</h3>\n          \n          <button\n            onClick={() => setIsAddingTable(true)}\n            className=\"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors mb-4 flex items-center justify-center\"\n          >\n            <Plus className=\"w-4 h-4 mr-2\" />\n            Add Table\n          </button>\n\n          <div className=\"space-y-2\">\n            {tables.map((table) => (\n              <div key={table.id} className=\"p-3 bg-gray-50 rounded-lg\">\n                <div className=\"flex items-center justify-between\">\n                  <h4 className=\"font-medium\">{table.name}</h4>\n                  <button\n                    onClick={() => deleteTable(table.id)}\n                    className=\"text-red-500 hover:text-red-700\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                  </button>\n                </div>\n                <p className=\"text-sm text-gray-600\">{table.columns.length} columns</p>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Main Canvas */}\n        <div className=\"flex-1 relative bg-gray-50 overflow-hidden\">\n          <div \n            ref={canvasRef}\n            className=\"w-full h-full relative overflow-auto\"\n            style={{ minWidth: '1200px', minHeight: '800px' }}\n            onMouseMove={handleMouseMove}\n            onMouseUp={handleMouseUp}\n            onMouseLeave={handleMouseUp}\n          >\n            {/* Canvas Grid */}\n            <div \n              className=\"absolute inset-0 opacity-20 pointer-events-none\"\n              style={{\n                backgroundImage: `\n                  linear-gradient(to right, #e5e7eb 1px, transparent 1px),\n                  linear-gradient(to bottom, #e5e7eb 1px, transparent 1px)\n                `,\n                backgroundSize: '20px 20px'\n              }}\n            />\n\n            {/* SVG for relationship lines */}\n            <svg className=\"absolute inset-0 w-full h-full pointer-events-none z-10\" style={{ minWidth: '1200px', minHeight: '800px' }}>\n              {/* Render relationship lines - show for all tables */}\n              {relationships.map((rel) => {\n                // Get table states first\n                const fromTable = tables.find(t => t.name === rel.fromTable);\n                const toTable = tables.find(t => t.name === rel.toTable);\n                \n                const fromPos = getColumnPosition(rel.fromTable, rel.fromColumn);\n                const toPos = getColumnPosition(rel.toTable, rel.toColumn);\n                \n                if (!fromPos || !toPos) return null;\n\n                const fromCollapsed = fromTable?.isCollapsed || false;\n                const toCollapsed = toTable?.isCollapsed || false;\n\n                // Create smooth curved path connecting the tables\n                const startX = fromPos.x;\n                const startY = fromPos.y;\n                const endX = toPos.leftX;\n                const endY = toPos.leftY || toPos.y;\n                \n                // Calculate control points for smooth curves\n                const dx = endX - startX;\n                const dy = endY - startY;\n                const distance = Math.sqrt(dx * dx + dy * dy);\n                const controlOffset = Math.min(distance * 0.3, 100); // Dynamic curve based on distance\n                \n                const control1X = startX + controlOffset;\n                const control1Y = startY;\n                const control2X = endX - controlOffset;\n                const control2Y = endY;\n                \n                const path = `M ${startX} ${startY} C ${control1X} ${control1Y} ${control2X} ${control2Y} ${endX} ${endY}`;\n                \n                // Calculate midX for delete button positioning\n                const midX = (startX + endX) / 2;\n\n                return (\n                  <g key={`${rel.fromTable}-${rel.toTable}-${rel.fromColumn}-${rel.toColumn}`}>\n                    {/* Connection line with gradient */}\n                    <defs>\n                      <linearGradient id={`gradient-${rel.id}`} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n                        <stop offset=\"0%\" stopColor=\"#3b82f6\" stopOpacity=\"0.8\"/>\n                        <stop offset=\"50%\" stopColor=\"#8b5cf6\" stopOpacity=\"0.6\"/>\n                        <stop offset=\"100%\" stopColor=\"#3b82f6\" stopOpacity=\"0.8\"/>\n                      </linearGradient>\n                    </defs>\n                    <path\n                      d={path}\n                      stroke={`url(#gradient-${rel.id})`}\n                      strokeWidth=\"3\"\n                      fill=\"none\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      filter=\"drop-shadow(0 2px 4px rgba(59, 130, 246, 0.3))\"\n                    />\n                    \n                    {/* Start circle with better styling */}\n                    <circle\n                      cx={startX}\n                      cy={startY}\n                      r={fromCollapsed ? \"4\" : \"5\"}\n                      fill={fromCollapsed ? \"#e5e7eb\" : \"#ffffff\"}\n                      stroke={fromCollapsed ? \"#9ca3af\" : \"#3b82f6\"}\n                      strokeWidth={fromCollapsed ? \"2\" : \"2\"}\n                      filter=\"drop-shadow(0 2px 4px rgba(59, 130, 246, 0.4))\"\n                    />\n                    \n                    {/* Collapsed table indicator - smaller and positioned better */}\n                    {fromCollapsed && (\n                      <text\n                        x={startX}\n                        y={startY + 1}\n                        textAnchor=\"middle\"\n                        fontSize=\"6\"\n                        fontWeight=\"bold\"\n                        fill=\"#9ca3af\"\n                        className=\"pointer-events-none\"\n                      >\n                        ⋯\n                      </text>\n                    )}\n                    \n                    {/* End circle with arrow indicator */}\n                    <circle\n                      cx={endX}\n                      cy={endY}\n                      r={toCollapsed ? \"4\" : \"5\"}\n                      fill={toCollapsed ? \"#e5e7eb\" : \"#ffffff\"}\n                      stroke={toCollapsed ? \"#9ca3af\" : \"#3b82f6\"}\n                      strokeWidth={toCollapsed ? \"2\" : \"2\"}\n                      filter=\"drop-shadow(0 2px 4px rgba(59, 130, 246, 0.4))\"\n                    />\n                    \n                    {/* Collapsed table indicator - smaller and positioned better */}\n                    {toCollapsed && (\n                      <text\n                        x={endX}\n                        y={endY + 1}\n                        textAnchor=\"middle\"\n                        fontSize=\"6\"\n                        fontWeight=\"bold\"\n                        fill=\"#9ca3af\"\n                        className=\"pointer-events-none\"\n                      >\n                        ⋯\n                      </text>\n                    )}\n                    \n                    {/* Arrow head at the end */}\n                    <polygon\n                      points={`${endX-8},${endY-3} ${endX-8},${endY+3} ${endX-2},${endY}`}\n                      fill=\"#3b82f6\"\n                      stroke=\"#ffffff\"\n                      strokeWidth=\"1\"\n                    />\n                    \n                    {/* Delete button with better styling */}\n                    <circle\n                      cx={midX}\n                      cy={(startY + endY) / 2}\n                      r=\"10\"\n                      fill=\"#ffffff\"\n                      stroke=\"#ef4444\"\n                      strokeWidth=\"2\"\n                      className=\"cursor-pointer hover:fill-red-50\"\n                      onClick={() => deleteRelationship(rel.id)}\n                      filter=\"drop-shadow(0 2px 4px rgba(239, 68, 68, 0.3))\"\n                    />\n                    <text\n                      x={midX}\n                      y={(startY + endY) / 2 + 2}\n                      textAnchor=\"middle\"\n                      fontSize=\"12\"\n                      fontWeight=\"bold\"\n                      fill=\"#ef4444\"\n                      className=\"cursor-pointer select-none pointer-events-none\"\n                    >\n                      ×\n                    </text>\n                  </g>\n                );\n              })}\n            </svg>\n\n            {/* Tables */}\n            {tables.map((table) => (\n              <div\n                key={table.id}\n                className={`absolute bg-white rounded-lg shadow-lg border-2 min-w-64 ${\n                  isDragging === table.id ? 'border-blue-500 shadow-xl' : 'border-gray-200'\n                }`}\n                style={{\n                  left: Math.round(table.x),\n                  top: Math.round(table.y),\n                  cursor: isDragging === table.id ? 'grabbing' : 'grab',\n                  zIndex: table.isCollapsed ? 20 : 30\n                }}\n                onMouseDown={(e) => handleMouseDown(e, table.id)}\n              >\n                {/* Table Header */}\n                <div \n                  className=\"text-white px-4 py-2 rounded-t-lg flex items-center justify-between\"\n                  style={{ backgroundColor: table.color || '#2563eb' }}\n                >\n                  <div className=\"flex items-center space-x-2\">\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        toggleTableCollapse(table.id);\n                      }}\n                      className=\"text-white hover:bg-blue-700 p-1 rounded\"\n                      title={table.isCollapsed ? \"Expand table\" : \"Collapse table\"}\n                    >\n                      {table.isCollapsed ? <ChevronRight className=\"w-4 h-4\" /> : <ChevronDownIcon className=\"w-4 h-4\" />}\n                    </button>\n                    <h3 className=\"font-semibold\">{table.name}</h3>\n                    {table.priority && (\n                      <span className=\"text-xs bg-yellow-200 text-yellow-800 px-1 rounded ml-1\">\n                        P{table.priority}\n                      </span>\n                    )}\n                    {table.isCollapsed && (\n                      <span className=\"text-xs text-blue-200\">({table.columns.length} columns)</span>\n                    )}\n                  </div>\n                  <div className=\"flex space-x-1\">\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        setEditingTable(table);\n                        setShowTableEditModal(true);\n                      }}\n                      className=\"text-white hover:bg-blue-700 p-1 rounded\"\n                      title=\"Edit table\"\n                    >\n                      <Edit2 className=\"w-4 h-4\" />\n                    </button>\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        addColumn(table.id);\n                      }}\n                      className=\"text-white hover:bg-blue-700 p-1 rounded\"\n                      title=\"Add Column\"\n                    >\n                      <Plus className=\"w-4 h-4\" />\n                    </button>\n                  </div>\n                </div>\n\n                {/* Table Columns */}\n                {!table.isCollapsed && (\n                  <div className=\"p-0\">\n                    {table.columns.map((column, index) => (\n                      <div \n                        key={column.id} \n                        className={`px-4 py-2 border-b border-gray-100 last:border-b-0 flex items-center justify-between hover:bg-gray-50 ${\n                          column.isPrimaryKey ? 'bg-yellow-50' : ''\n                        }`}\n                      >\n                        <div className=\"flex items-center space-x-2 flex-1\">\n                          <span className={`font-medium ${column.isPrimaryKey ? 'text-yellow-700' : 'text-gray-700'}`}>\n                            {column.name}\n                          </span>\n                          <span className=\"text-xs text-gray-500 uppercase\">\n                            {column.type}\n                          </span>\n                          {column.isPrimaryKey && (\n                            <span className=\"text-xs bg-yellow-200 text-yellow-800 px-1 rounded\">PK</span>\n                          )}\n                          {!column.isNullable && (\n                            <span className=\"text-xs text-red-600\">NOT NULL</span>\n                          )}\n                          {column.isForeignKey && (\n                            <span className=\"text-xs bg-green-200 text-green-800 px-1 rounded\">\n                              FK → {column.referencedTable}.{column.referencedColumn}\n                            </span>\n                          )}\n                        </div>\n                        <div className=\"flex items-center space-x-1\">\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              setEditingColumn({ tableId: table.id, columnId: column.id });\n                            }}\n                            className=\"text-gray-400 hover:text-blue-600 p-1\"\n                            title=\"Edit Column\"\n                          >\n                            <Edit2 className=\"w-3 h-3\" />\n                          </button>\n                          {column.isForeignKey ? (\n                            <button\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                removeForeignKey(table.id, column.id);\n                              }}\n                              className=\"text-gray-400 hover:text-orange-600 p-1\"\n                              title=\"Remove Foreign Key\"\n                            >\n                              🔓\n                            </button>\n                          ) : (\n                            <button\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                startForeignKeyCreation(table.id, column.id);\n                              }}\n                              className=\"text-gray-400 hover:text-green-600 p-1\"\n                              title=\"Create Foreign Key\"\n                            >\n                              🔗\n                            </button>\n                          )}\n                          {column.isForeignKey && (\n                            <button\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                startForeignKeyCreation(table.id, column.id);\n                              }}\n                              className=\"text-gray-400 hover:text-blue-600 p-1\"\n                              title=\"Edit Foreign Key\"\n                            >\n                              ✏️\n                            </button>\n                          )}\n                          {/* Column reordering buttons */}\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              moveColumnUp(table.id, column.id);\n                            }}\n                            className=\"text-gray-400 hover:text-blue-600 p-1\"\n                            title=\"Move Column Up\"\n                            disabled={index === 0}\n                          >\n                            <ChevronUp className=\"w-3 h-3\" />\n                          </button>\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              moveColumnDown(table.id, column.id);\n                            }}\n                            className=\"text-gray-400 hover:text-blue-600 p-1\"\n                            title=\"Move Column Down\"\n                            disabled={index === table.columns.length - 1}\n                          >\n                            <ChevronDown className=\"w-3 h-3\" />\n                          </button>\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              deleteColumn(table.id, column.id);\n                            }}\n                            className=\"text-gray-400 hover:text-red-600 p-1\"\n                            title=\"Delete Column\"\n                          >\n                            <Trash2 className=\"w-3 h-3\" />\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Foreign Key Creation Modal */}\n      {showForeignKeyModal && foreignKeyData && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-96\">\n            <h3 className=\"text-lg font-semibold mb-4\">\n              {(() => {\n                const fromTable = tables.find(t => t.id === foreignKeyData.fromTableId);\n                const fromColumn = fromTable?.columns.find(c => c.id === foreignKeyData.fromColumnId);\n                return fromColumn?.isForeignKey ? 'Update Foreign Key Relationship' : 'Create Foreign Key Relationship';\n              })()}\n            </h3>\n            {(() => {\n              const fromTable = tables.find(t => t.id === foreignKeyData.fromTableId);\n              const fromColumn = fromTable?.columns.find(c => c.id === foreignKeyData.fromColumnId);\n              \n              return (\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">From</label>\n                    <div className=\"text-sm text-gray-600\">\n                      {fromTable?.name}.{fromColumn?.name} ({fromColumn?.type})\n                    </div>\n                    {fromColumn?.isForeignKey && (\n                      <div className=\"text-xs text-blue-600 mt-1\">\n                        Currently: FK → {fromColumn.referencedTable}.{fromColumn.referencedColumn}\n                      </div>\n                    )}\n                  </div>\n                  \n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">To Table</label>\n                    <select\n                      value={foreignKeyData.toTableId || ''}\n                      onChange={(e) => setForeignKeyData({\n                        ...foreignKeyData,\n                        toTableId: e.target.value,\n                        toColumnId: undefined\n                      })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    >\n                      <option value=\"\">Select table...</option>\n                      {tables\n                        .filter(t => t.id !== foreignKeyData.fromTableId)\n                        .map(table => (\n                          <option key={table.id} value={table.id}>\n                            {table.name}\n                          </option>\n                        ))}\n                    </select>\n                  </div>\n\n                  {foreignKeyData.toTableId && (\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">To Column</label>\n                      <select\n                        value={foreignKeyData.toColumnId || ''}\n                        onChange={(e) => setForeignKeyData({\n                          ...foreignKeyData,\n                          toColumnId: e.target.value\n                        })}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                      >\n                        <option value=\"\">Select column...</option>\n                        {tables\n                          .find(t => t.id === foreignKeyData.toTableId)\n                          ?.columns.filter(col => col.isPrimaryKey || col.type === fromColumn?.type)\n                          .map(column => (\n                            <option key={column.id} value={column.id}>\n                              {column.name} ({column.type}) {column.isPrimaryKey ? '(PK)' : ''}\n                            </option>\n                          ))}\n                      </select>\n                    </div>\n                  )}\n\n                  <div className=\"flex space-x-3 pt-4\">\n                    <button\n                      onClick={completeForeignKeyCreation}\n                      disabled={!foreignKeyData.toTableId || !foreignKeyData.toColumnId}\n                      className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed\"\n                    >\n                      {fromColumn?.isForeignKey ? 'Update Relationship' : 'Create Relationship'}\n                    </button>\n                    <button\n                      onClick={() => {\n                        setShowForeignKeyModal(false);\n                        setForeignKeyData(null);\n                      }}\n                      className=\"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400\"\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </div>\n              );\n            })()}\n          </div>\n        </div>\n      )}\n\n      {/* Table Edit Modal */}\n      {showTableEditModal && editingTable && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-96\">\n            <h3 className=\"text-lg font-semibold mb-4\">Edit Table</h3>\n            <div className=\"space-y-4\">\n              {/* Table Name */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Table Name</label>\n                <input\n                  type=\"text\"\n                  value={editingTable.name}\n                  onChange={(e) => setEditingTable({ ...editingTable, name: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                />\n              </div>\n              \n              {/* Priority */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Priority</label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  value={editingTable.priority || ''}\n                  onChange={(e) => setEditingTable({ ...editingTable, priority: parseInt(e.target.value) || undefined })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  placeholder=\"Enter priority (0 = highest)\"\n                />\n                <p className=\"text-xs text-gray-500 mt-1\">\n                  Lower number = higher priority (0 = first, 1 = second, etc.)\n                </p>\n              </div>\n              \n              {/* Color */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Header Color</label>\n                <div className=\"flex items-center space-x-2\">\n                  <input\n                    type=\"color\"\n                    value={editingTable.color || '#2563eb'}\n                    onChange={(e) => setEditingTable({ ...editingTable, color: e.target.value })}\n                    className=\"w-12 h-8 border border-gray-300 rounded cursor-pointer\"\n                  />\n                  <input\n                    type=\"text\"\n                    value={editingTable.color || '#2563eb'}\n                    onChange={(e) => setEditingTable({ ...editingTable, color: e.target.value })}\n                    className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md\"\n                    placeholder=\"#2563eb\"\n                  />\n                </div>\n                <p className=\"text-xs text-gray-500 mt-1\">\n                  Choose a color for the table header\n                </p>\n              </div>\n            </div>\n            \n            <div className=\"flex space-x-3 pt-4\">\n              <button\n                onClick={() => {\n                  setTables(tables.map(t => \n                    t.id === editingTable.id ? editingTable : t\n                  ));\n                  setShowTableEditModal(false);\n                  setEditingTable(null);\n                }}\n                className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\n              >\n                Save\n              </button>\n              <button\n                onClick={() => {\n                  setShowTableEditModal(false);\n                  setEditingTable(null);\n                }}\n                className=\"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Column Edit Modal */}\n      {editingColumn && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-96\">\n            <h3 className=\"text-lg font-semibold mb-4\">Edit Column</h3>\n            {(() => {\n              const table = tables.find(t => t.id === editingColumn.tableId);\n              const column = table?.columns.find(c => c.id === editingColumn.columnId);\n              if (!column) return null;\n\n              return (\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Column Name</label>\n                    <input\n                      type=\"text\"\n                      value={column.name}\n                      onChange={(e) => updateColumn(editingColumn.tableId, editingColumn.columnId, { name: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Data Type</label>\n                    <select\n                      value={column.type}\n                      onChange={(e) => updateColumn(editingColumn.tableId, editingColumn.columnId, { type: e.target.value })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    >\n                      <option value=\"VARCHAR\">VARCHAR</option>\n                      <option value=\"TEXT\">TEXT</option>\n                      <option value=\"INTEGER\">INTEGER</option>\n                      <option value=\"BIGINT\">BIGINT</option>\n                      <option value=\"DECIMAL\">DECIMAL</option>\n                      <option value=\"BOOLEAN\">BOOLEAN</option>\n                      <option value=\"DATE\">DATE</option>\n                      <option value=\"TIMESTAMP\">TIMESTAMP</option>\n                      <option value=\"UUID\">UUID</option>\n                      <option value=\"JSON\">JSON</option>\n                    </select>\n                  </div>\n                  <div className=\"space-y-2\">\n                    <label className=\"flex items-center\">\n                      <input\n                        type=\"checkbox\"\n                        checked={column.isPrimaryKey}\n                        onChange={(e) => updateColumn(editingColumn.tableId, editingColumn.columnId, { isPrimaryKey: e.target.checked })}\n                        className=\"mr-2\"\n                      />\n                      Primary Key\n                    </label>\n                    <label className=\"flex items-center\">\n                      <input\n                        type=\"checkbox\"\n                        checked={!column.isNullable}\n                        onChange={(e) => updateColumn(editingColumn.tableId, editingColumn.columnId, { isNullable: !e.target.checked })}\n                        className=\"mr-2\"\n                      />\n                      Not Null\n                    </label>\n                  </div>\n                  <div className=\"flex space-x-3 pt-4\">\n                    <button\n                      onClick={() => setEditingColumn(null)}\n                      className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\n                    >\n                      Save\n                    </button>\n                    <button\n                      onClick={() => setEditingColumn(null)}\n                      className=\"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400\"\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </div>\n              );\n            })()}\n          </div>\n        </div>\n      )}\n\n      {/* Add Table Modal */}\n      {isAddingTable && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-96\">\n            <h3 className=\"text-lg font-semibold mb-4\">Add New Table</h3>\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Table Name</label>\n                <input\n                  type=\"text\"\n                  value={newTableName}\n                  onChange={(e) => setNewTableName(e.target.value)}\n                  placeholder=\"Enter table name\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  onKeyPress={(e) => e.key === 'Enter' && addTable()}\n                />\n              </div>\n              <div className=\"flex space-x-3 pt-4\">\n                <button\n                  onClick={addTable}\n                  disabled={!newTableName.trim()}\n                  className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed\"\n                >\n                  Add Table\n                </button>\n                <button\n                  onClick={() => {\n                    setIsAddingTable(false);\n                    setNewTableName('');\n                  }}\n                  className=\"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Export Modal */}\n      {showExportModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-[700px] max-h-[85vh] overflow-y-auto\">\n            <h3 className=\"text-lg font-semibold mb-4\">Export Diagram</h3>\n            <div className=\"space-y-4\">\n              {/* Export Type Selection */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Export Type</label>\n                <div className=\"grid grid-cols-3 gap-3\">\n                  <button\n                    onClick={() => {\n                      console.log('Setting export type to Framework');\n                      setExportType('framework');\n                      console.log('Export type set to:', 'framework');\n                    }}\n                    className={`p-3 rounded-lg border-2 text-center transition-colors ${\n                      exportType === 'framework'\n                        ? 'border-blue-500 bg-blue-50 text-blue-700'\n                        : 'border-gray-200 hover:border-gray-300'\n                    }`}\n                  >\n                    <div className=\"text-2xl mb-1\">⚙️</div>\n                    <div className=\"text-sm font-medium\">Framework Code</div>\n                    <div className=\"text-xs text-gray-500\">Generate application code</div>\n                  </button>\n                  <button\n                    onClick={() => {\n                      console.log('Setting export type to SQL');\n                      setExportType('sql');\n                      console.log('Export type set to:', 'sql');\n                    }}\n                    className={`p-3 rounded-lg border-2 text-center transition-colors ${\n                      exportType === 'sql'\n                        ? 'border-green-500 bg-green-50 text-green-700'\n                        : 'border-gray-200 hover:border-gray-300'\n                    }`}\n                  >\n                    <div className=\"text-2xl mb-1\">🗄️</div>\n                    <div className=\"text-sm font-medium\">SQL Schema</div>\n                    <div className=\"text-xs text-gray-500\">Generate database schema</div>\n                  </button>\n                  <button\n                    onClick={() => {\n                      console.log('Setting export type to PDF');\n                      setExportType('pdf');\n                      console.log('Export type set to:', 'pdf');\n                    }}\n                    className={`p-3 rounded-lg border-2 text-center transition-colors ${\n                      exportType === 'pdf'\n                        ? 'border-red-500 bg-red-50 text-red-700'\n                        : 'border-gray-200 hover:border-gray-300'\n                    }`}\n                  >\n                    <div className=\"text-2xl mb-1\">📄</div>\n                    <div className=\"text-sm font-medium\">PDF Documentation</div>\n                    <div className=\"text-xs text-gray-500\">Generate documentation</div>\n                  </button>\n                </div>\n              </div>\n\n              {/* Database Type Selection (for SQL and PDF) */}\n              {(exportType === 'sql' || exportType === 'pdf') && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Database Type</label>\n                  <select\n                    value={exportConfig.databaseType}\n                    onChange={(e) => setExportConfig({...exportConfig, databaseType: e.target.value})}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  >\n                    <option value=\"postgresql\">PostgreSQL</option>\n                    <option value=\"mysql\">MySQL</option>\n                    <option value=\"sqlserver\">SQL Server</option>\n                    <option value=\"mariadb\">MariaDB</option>\n                  </select>\n                </div>\n              )}\n\n              {/* Framework Selection (only for framework export) */}\n              {exportType === 'framework' && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Framework</label>\n                  <select\n                    value={exportConfig.framework}\n                    onChange={(e) => setExportConfig({...exportConfig, framework: e.target.value})}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  >\n                    <option value=\"yii2\">Yii2 Framework</option>\n                  </select>\n                </div>\n              )}\n              \n              {/* Namespace (only for framework export) */}\n              {exportType === 'framework' && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Namespace</label>\n                  <input\n                    type=\"text\"\n                    value={exportConfig.namespace}\n                    onChange={(e) => setExportConfig({...exportConfig, namespace: e.target.value})}\n                    placeholder={generateNamespace(diagramName)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  />\n                </div>\n              )}\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Schema Name</label>\n                <input\n                  type=\"text\"\n                  value={exportConfig.schemaName}\n                  onChange={(e) => setExportConfig({...exportConfig, schemaName: e.target.value})}\n                  placeholder=\"public\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                />\n                <p className=\"text-xs text-gray-500 mt-1\">\n                  {exportType === 'framework' \n                    ? `Tables will be prefixed with this schema name (e.g., ${exportConfig.schemaName}.table_name)`\n                    : `Database schema name for ${exportType.toUpperCase()} export`\n                  }\n                </p>\n              </div>\n\n              {/* Document Title (for PDF export) */}\n              {exportType === 'pdf' && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Document Title</label>\n                  <input\n                    type=\"text\"\n                    value={exportConfig.documentTitle}\n                    onChange={(e) => setExportConfig({...exportConfig, documentTitle: e.target.value})}\n                    placeholder={diagramName || \"Database Schema Documentation\"}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    Title that will appear at the top of the PDF document\n                  </p>\n                </div>\n              )}\n\n\n              {/* Table Selection with Ordering (only for framework export) */}\n              {exportType === 'framework' && (\n                <div>\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <label className=\"block text-sm font-medium text-gray-700\">\n                      Select Tables (Drag to reorder for migration creation order)\n                    </label>\n                    <div className=\"space-x-2\">\n                      <button\n                        type=\"button\"\n                        onClick={handleSelectAllTables}\n                        className=\"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200\"\n                      >\n                        Select All\n                      </button>\n                      <button\n                        type=\"button\"\n                        onClick={handleDeselectAllTables}\n                        className=\"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded hover:bg-gray-200\"\n                      >\n                        Deselect All\n                      </button>\n                    </div>\n                  </div>\n                <div className=\"max-h-80 overflow-y-auto border border-gray-300 rounded-md p-3 space-y-2\">\n                  {(() => {\n                    console.log('🔍 Export modal orderedTables:', orderedTables.map(t => `${t.name} (P${t.priority || 'no priority'})`));\n                    return orderedTables.map((table, index) => (\n                    <div\n                      key={table.id}\n                      draggable\n                      onDragStart={(e) => handleDragStart(e, table.id)}\n                      onDragOver={handleDragOver}\n                      onDrop={(e) => handleDrop(e, table.id)}\n                      onDragEnd={handleDragEnd}\n                      className={`flex items-center p-2 rounded-md border-2 border-dashed transition-colors ${\n                        draggedTableId === table.id\n                          ? 'border-blue-400 bg-blue-50 opacity-50'\n                          : 'border-transparent hover:border-gray-300 hover:bg-gray-50'\n                      }`}\n                    >\n                      {/* Drag Handle */}\n                      <div className=\"mr-3 cursor-move text-gray-400 hover:text-gray-600\">\n                        <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                          <path d=\"M7 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM7 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM7 14a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM13 2a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM13 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM13 14a2 2 0 1 0 0 4 2 2 0 0 0 0-4z\" />\n                        </svg>\n                      </div>\n                      \n                      {/* Order Number */}\n                      <div className=\"mr-3 w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center text-xs font-medium text-gray-600\">\n                        {index + 1}\n                      </div>\n                      \n                      {/* Checkbox and Table Info */}\n                      <label className=\"flex items-center flex-1 cursor-pointer\">\n                        <input\n                          type=\"checkbox\"\n                          checked={exportConfig.selectedTables.includes(table.name)}\n                          onChange={(e) => handleTableSelection(table.name, e.target.checked)}\n                          className=\"mr-2\"\n                        />\n                        <span className=\"text-sm text-gray-700\">\n                          {table.name} ({table.columns.length} columns)\n                          {table.priority && (\n                            <span className=\"text-xs bg-yellow-200 text-yellow-800 px-1 rounded ml-1\">\n                              P{table.priority}\n                            </span>\n                          )}\n                        </span>\n                      </label>\n                    </div>\n                  ));\n                  })()}\n                </div>\n                  <div className=\"mt-2 text-xs text-gray-500\">\n                    💡 Drag tables to reorder. Tables will be created in this order to avoid foreign key dependency issues.\n                  </div>\n                </div>\n              )}\n\n              {/* Skip Existing Entities Option (only for framework export) */}\n              {exportType === 'framework' && (\n                <div>\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      checked={exportConfig.skipExistingEntities}\n                      onChange={(e) => setExportConfig({...exportConfig, skipExistingEntities: e.target.checked})}\n                      className=\"mr-2\"\n                    />\n                    <span className=\"text-sm text-gray-700\">\n                      Skip existing entities (prevent conflicts with other modules)\n                    </span>\n                  </label>\n                </div>\n              )}\n\n              <div className=\"flex space-x-3 pt-4\">\n                <button\n                  onClick={() => {\n                    console.log('Export button clicked, current export type:', exportType);\n                    exportDiagram();\n                  }}\n                  disabled={isExporting || (exportType === 'framework' && exportConfig.selectedTables.length === 0)}\n                  className=\"flex-1 px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-purple-300 disabled:cursor-not-allowed flex items-center justify-center\"\n                >\n                  {isExporting ? (\n                    <>\n                      <svg className=\"animate-spin h-4 w-4 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\">\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                      </svg>\n                      Exporting...\n                    </>\n                  ) : (\n                    <>\n                      <Download className=\"w-4 h-4 mr-2\" />\n                      {exportType === 'framework' && `Export & Download (${exportConfig.selectedTables.length} tables)`}\n                      {exportType === 'sql' && 'Export SQL Schema'}\n                      {exportType === 'pdf' && 'Export PDF Documentation'}\n                    </>\n                  )}\n                </button>\n                <button\n                  onClick={() => setShowExportModal(false)}\n                  disabled={isExporting}\n                  className=\"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 disabled:cursor-not-allowed\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}; ","import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuthStore } from '@/store/authStore';\n\ninterface Template {\n  id: string;\n  name: string;\n  description: string;\n  database: string;\n  tableCount: number;\n  category: string;\n  color: string;\n  tables: any[];\n  relationships: any[];\n}\n\nexport const TemplatesPage: React.FC = () => {\n  const navigate = useNavigate();\n  const { token, isAuthenticated } = useAuthStore();\n\n  const templates: Template[] = [\n    {\n      id: 'ecommerce',\n      name: 'E-commerce Store',\n      description: 'Complete schema for online store with products, orders, users, and payments',\n      database: 'PostgreSQL',\n      tableCount: 8,\n      category: 'Business',\n      color: 'bg-blue-100 text-blue-800',\n      tables: [\n        {\n          id: 'users-table',\n          name: 'users',\n          x: 50,\n          y: 100,\n          columns: [\n            { id: 'users-id', name: 'id', type: 'UUID', isPrimaryKey: true, isForeignKey: false, isNullable: false },\n            { id: 'users-email', name: 'email', type: 'VARCHAR', isPrimaryKey: false, isForeignKey: false, isNullable: false },\n            { id: 'users-first_name', name: 'first_name', type: 'VARCHAR', isPrimaryKey: false, isForeignKey: false, isNullable: false },\n            { id: 'users-last_name', name: 'last_name', type: 'VARCHAR', isPrimaryKey: false, isForeignKey: false, isNullable: false },\n            { id: 'users-password_hash', name: 'password_hash', type: 'VARCHAR', isPrimaryKey: false, isForeignKey: false, isNullable: false },\n            { id: 'users-created_at', name: 'created_at', type: 'TIMESTAMP', isPrimaryKey: false, isForeignKey: false, isNullable: false }\n          ]\n        },\n        {\n          id: 'products-table',\n          name: 'products',\n          x: 400,\n          y: 100,\n          columns: [\n            { id: 'products-id', name: 'id', type: 'UUID', isPrimaryKey: true, isForeignKey: false, isNullable: false },\n            { id: 'products-name', name: 'name', type: 'VARCHAR', isPrimaryKey: false, isForeignKey: false, isNullable: false },\n            { id: 'products-description', name: 'description', type: 'TEXT', isPrimaryKey: false, isForeignKey: false, isNullable: true },\n            { id: 'products-price', name: 'price', type: 'DECIMAL', isPrimaryKey: false, isForeignKey: false, isNullable: false },\n            { id: 'products-stock', name: 'stock', type: 'INTEGER', isPrimaryKey: false, isForeignKey: false, isNullable: false },\n            { id: 'products-category_id', name: 'category_id', type: 'UUID', isPrimaryKey: false, isForeignKey: true, isNullable: false, referencedTable: 'categories', referencedColumn: 'id' }\n          ]\n        },\n        {\n          id: 'categories-table',\n          name: 'categories',\n          x: 750,\n          y: 100,\n          columns: [\n            { id: 'categories-id', name: 'id', type: 'UUID', isPrimaryKey: true, isForeignKey: false, isNullable: false },\n            { id: 'categories-name', name: 'name', type: 'VARCHAR', isPrimaryKey: false, isForeignKey: false, isNullable: false },\n            { id: 'categories-description', name: 'description', type: 'TEXT', isPrimaryKey: false, isForeignKey: false, isNullable: true }\n          ]\n        },\n        {\n          id: 'orders-table',\n          name: 'orders',\n          x: 50,\n          y: 400,\n          columns: [\n            { id: 'orders-id', name: 'id', type: 'UUID', isPrimaryKey: true, isForeignKey: false, isNullable: false },\n            { id: 'orders-user_id', name: 'user_id', type: 'UUID', isPrimaryKey: false, isForeignKey: true, isNullable: false, referencedTable: 'users', referencedColumn: 'id' },\n            { id: 'orders-total_amount', name: 'total_amount', type: 'DECIMAL', isPrimaryKey: false, isForeignKey: false, isNullable: false },\n            { id: 'orders-status', name: 'status', type: 'VARCHAR', isPrimaryKey: false, isForeignKey: false, isNullable: false },\n            { id: 'orders-created_at', name: 'created_at', type: 'TIMESTAMP', isPrimaryKey: false, isForeignKey: false, isNullable: false }\n          ]\n        },\n        {\n          id: 'order_items-table',\n          name: 'order_items',\n          x: 400,\n          y: 400,\n          columns: [\n            { id: 'order_items-id', name: 'id', type: 'UUID', isPrimaryKey: true, isForeignKey: false, isNullable: false },\n            { id: 'order_items-order_id', name: 'order_id', type: 'UUID', isPrimaryKey: false, isForeignKey: true, isNullable: false, referencedTable: 'orders', referencedColumn: 'id' },\n            { id: 'order_items-product_id', name: 'product_id', type: 'UUID', isPrimaryKey: false, isForeignKey: true, isNullable: false, referencedTable: 'products', referencedColumn: 'id' },\n            { id: 'order_items-quantity', name: 'quantity', type: 'INTEGER', isPrimaryKey: false, isForeignKey: false, isNullable: false },\n            { id: 'order_items-price', name: 'price', type: 'DECIMAL', isPrimaryKey: false, isForeignKey: false, isNullable: false }\n          ]\n        }\n      ],\n      relationships: [\n        { id: 'rel-1', fromTable: 'categories', fromColumn: 'id', toTable: 'products', toColumn: 'category_id' },\n        { id: 'rel-2', fromTable: 'users', fromColumn: 'id', toTable: 'orders', toColumn: 'user_id' },\n        { id: 'rel-3', fromTable: 'orders', fromColumn: 'id', toTable: 'order_items', toColumn: 'order_id' },\n        { id: 'rel-4', fromTable: 'products', fromColumn: 'id', toTable: 'order_items', toColumn: 'product_id' }\n      ]\n    },\n    {\n      id: 'blog',\n      name: 'Blog System',\n      description: 'Blog platform with posts, comments, categories, and user management',\n      database: 'MySQL',\n      tableCount: 5,\n      category: 'Content',\n      color: 'bg-green-100 text-green-800',\n      tables: [\n        {\n          id: 'users-table',\n          name: 'users',\n          x: 50,\n          y: 100,\n          columns: [\n            { id: 'users-id', name: 'id', type: 'UUID', isPrimaryKey: true, isForeignKey: false, isNullable: false },\n            { id: 'users-username', name: 'username', type: 'VARCHAR', isPrimaryKey: false, isForeignKey: false, isNullable: false },\n            { id: 'users-email', name: 'email', type: 'VARCHAR', isPrimaryKey: false, isForeignKey: false, isNullable: false },\n            { id: 'users-password_hash', name: 'password_hash', type: 'VARCHAR', isPrimaryKey: false, isForeignKey: false, isNullable: false },\n            { id: 'users-role', name: 'role', type: 'VARCHAR', isPrimaryKey: false, isForeignKey: false, isNullable: false }\n          ]\n        },\n        {\n          id: 'posts-table',\n          name: 'posts',\n          x: 400,\n          y: 100,\n          columns: [\n            { id: 'posts-id', name: 'id', type: 'UUID', isPrimaryKey: true, isForeignKey: false, isNullable: false },\n            { id: 'posts-title', name: 'title', type: 'VARCHAR', isPrimaryKey: false, isForeignKey: false, isNullable: false },\n            { id: 'posts-content', name: 'content', type: 'TEXT', isPrimaryKey: false, isForeignKey: false, isNullable: false },\n            { id: 'posts-author_id', name: 'author_id', type: 'UUID', isPrimaryKey: false, isForeignKey: true, isNullable: false, referencedTable: 'users', referencedColumn: 'id' },\n            { id: 'posts-category_id', name: 'category_id', type: 'UUID', isPrimaryKey: false, isForeignKey: true, isNullable: false, referencedTable: 'categories', referencedColumn: 'id' },\n            { id: 'posts-published_at', name: 'published_at', type: 'TIMESTAMP', isPrimaryKey: false, isForeignKey: false, isNullable: true }\n          ]\n        },\n        {\n          id: 'categories-table',\n          name: 'categories',\n          x: 750,\n          y: 100,\n          columns: [\n            { id: 'categories-id', name: 'id', type: 'UUID', isPrimaryKey: true, isForeignKey: false, isNullable: false },\n            { id: 'categories-name', name: 'name', type: 'VARCHAR', isPrimaryKey: false, isForeignKey: false, isNullable: false },\n            { id: 'categories-slug', name: 'slug', type: 'VARCHAR', isPrimaryKey: false, isForeignKey: false, isNullable: false }\n          ]\n        },\n        {\n          id: 'comments-table',\n          name: 'comments',\n          x: 400,\n          y: 400,\n          columns: [\n            { id: 'comments-id', name: 'id', type: 'UUID', isPrimaryKey: true, isForeignKey: false, isNullable: false },\n            { id: 'comments-post_id', name: 'post_id', type: 'UUID', isPrimaryKey: false, isForeignKey: true, isNullable: false, referencedTable: 'posts', referencedColumn: 'id' },\n            { id: 'comments-author_id', name: 'author_id', type: 'UUID', isPrimaryKey: false, isForeignKey: true, isNullable: false, referencedTable: 'users', referencedColumn: 'id' },\n            { id: 'comments-content', name: 'content', type: 'TEXT', isPrimaryKey: false, isForeignKey: false, isNullable: false },\n            { id: 'comments-created_at', name: 'created_at', type: 'TIMESTAMP', isPrimaryKey: false, isForeignKey: false, isNullable: false }\n          ]\n        }\n      ],\n      relationships: [\n        { id: 'rel-1', fromTable: 'users', fromColumn: 'id', toTable: 'posts', toColumn: 'author_id' },\n        { id: 'rel-2', fromTable: 'categories', fromColumn: 'id', toTable: 'posts', toColumn: 'category_id' },\n        { id: 'rel-3', fromTable: 'posts', fromColumn: 'id', toTable: 'comments', toColumn: 'post_id' },\n        { id: 'rel-4', fromTable: 'users', fromColumn: 'id', toTable: 'comments', toColumn: 'author_id' }\n      ]\n    }\n  ];\n\n  const useTemplate = async (template: Template) => {\n    if (!isAuthenticated || !token) {\n      alert('Please login to use templates');\n      return;\n    }\n\n    try {\n      const diagramData = {\n        title: template.name,\n        canvas_data: JSON.stringify({\n          tables: template.tables,\n          relationships: template.relationships\n        }),\n        description: template.description\n      };\n\n              const response = await fetch('/api/diagrams', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(diagramData)\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        navigate(`/diagram/${result.data.id}`);\n      } else {\n        alert('Failed to create diagram from template');\n      }\n    } catch (error) {\n      console.error('Error creating diagram:', error);\n      alert('Failed to create diagram from template');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Database Templates</h1>\n          <p className=\"text-gray-600\">Start your project with pre-built database schemas</p>\n        </div>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {templates.map((template) => (\n            <div key={template.id} className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow\">\n              <div className=\"flex items-start justify-between mb-4\">\n                <div>\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">{template.name}</h3>\n                  <span className=\"text-xs text-gray-500 font-medium\">{template.category}</span>\n                </div>\n                <span className={`text-xs px-2 py-1 rounded-full ${template.color}`}>\n                  {template.database}\n                </span>\n              </div>\n              \n              <p className=\"text-sm text-gray-600 mb-4\">{template.description}</p>\n              \n              <div className=\"flex items-center justify-between mb-4\">\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"text-sm text-gray-500\">\n                    <span className=\"font-medium\">{template.tableCount}</span> tables\n                  </div>\n                  <div className=\"text-sm text-gray-500\">\n                    <span className=\"font-medium\">{template.relationships.length}</span> relationships\n                  </div>\n                </div>\n              </div>\n              \n              <button \n                onClick={() => useTemplate(template)}\n                className=\"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors\"\n              >\n                Use Template\n              </button>\n            </div>\n          ))}\n          \n          {/* Coming Soon Templates */}\n          <div className=\"bg-gray-50 rounded-lg border-2 border-dashed border-gray-300 p-6 flex flex-col items-center justify-center text-center\">\n            <div className=\"text-gray-400 text-4xl mb-4\">📋</div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">More Templates Coming Soon</h3>\n            <p className=\"text-sm text-gray-500\">We're working on more database templates for different use cases</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}; ","import React from 'react';\n\nexport const ProfilePage: React.FC = () => {\n  return (\n    <div className=\"p-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-8\">Profile Settings</h1>\n        \n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n          <div className=\"p-6 border-b border-gray-200\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">Personal Information</h2>\n          </div>\n          \n          <div className=\"p-6\">\n            <form className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <label htmlFor=\"firstName\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    First Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"firstName\"\n                    name=\"firstName\"\n                    defaultValue=\"John\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n                \n                <div>\n                  <label htmlFor=\"lastName\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Last Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"lastName\"\n                    name=\"lastName\"\n                    defaultValue=\"Doe\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Email Address\n                </label>\n                <input\n                  type=\"email\"\n                  id=\"email\"\n                  name=\"email\"\n                  defaultValue=\"john@example.com\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"company\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Company\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"company\"\n                  name=\"company\"\n                  defaultValue=\"Acme Corp\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"bio\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Bio\n                </label>\n                <textarea\n                  id=\"bio\"\n                  name=\"bio\"\n                  rows={4}\n                  defaultValue=\"Database architect and full-stack developer with 10+ years of experience.\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                />\n              </div>\n\n              <div className=\"flex justify-end\">\n                <button\n                  type=\"submit\"\n                  className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium\"\n                >\n                  Save Changes\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n\n        {/* Account Settings */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 mt-8\">\n          <div className=\"p-6 border-b border-gray-200\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">Account Settings</h2>\n          </div>\n          \n          <div className=\"p-6 space-y-6\">\n            <div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Change Password</h3>\n              <div className=\"space-y-4\">\n                <div>\n                  <label htmlFor=\"currentPassword\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Current Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    id=\"currentPassword\"\n                    name=\"currentPassword\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n                \n                <div>\n                  <label htmlFor=\"newPassword\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    New Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    id=\"newPassword\"\n                    name=\"newPassword\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n                \n                <div>\n                  <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Confirm New Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    id=\"confirmPassword\"\n                    name=\"confirmPassword\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                  />\n                </div>\n                \n                <button\n                  type=\"button\"\n                  className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium\"\n                >\n                  Update Password\n                </button>\n              </div>\n            </div>\n\n            <div className=\"border-t border-gray-200 pt-6\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Danger Zone</h3>\n              <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n                <h4 className=\"text-sm font-medium text-red-800 mb-2\">Delete Account</h4>\n                <p className=\"text-sm text-red-600 mb-4\">\n                  Once you delete your account, there is no going back. Please be certain.\n                </p>\n                <button\n                  type=\"button\"\n                  className=\"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md text-sm font-medium\"\n                >\n                  Delete Account\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}; ","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const NotFoundPage: React.FC = () => {\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n        <div className=\"text-center\">\n          {/* 404 Illustration */}\n          <div className=\"mx-auto h-32 w-32 text-gray-400 mb-8\">\n            <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" className=\"w-full h-full\">\n              <path \n                strokeLinecap=\"round\" \n                strokeLinejoin=\"round\" \n                strokeWidth=\"1\" \n                d=\"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.291-1.002-5.824-2.651M15 17H9m6-2v2a2 2 0 01-2 2H9a2 2 0 01-2-2v-2m8-2V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01\"\n              />\n            </svg>\n          </div>\n\n          {/* Error Code */}\n          <h1 className=\"text-6xl font-bold text-gray-900 mb-4\">404</h1>\n          \n          {/* Error Message */}\n          <h2 className=\"text-2xl font-semibold text-gray-700 mb-4\">\n            Page Not Found\n          </h2>\n          \n          <p className=\"text-gray-500 mb-8 max-w-md mx-auto\">\n            Sorry, the page you are looking for doesn't exist or has been moved. \n            Let's get you back to creating amazing database diagrams!\n          </p>\n\n          {/* Action Buttons */}\n          <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n            <Link \n              to=\"/\" \n              className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg text-sm font-medium transition-colors\"\n            >\n              Go Home\n            </Link>\n            <Link \n              to=\"/dashboard\" \n              className=\"bg-white hover:bg-gray-50 text-gray-900 px-6 py-3 rounded-lg text-sm font-medium border border-gray-300 transition-colors\"\n            >\n              Go to Dashboard\n            </Link>\n          </div>\n\n          {/* Helpful Links */}\n          <div className=\"mt-12\">\n            <h3 className=\"text-sm font-medium text-gray-900 mb-4\">\n              Popular pages:\n            </h3>\n            <div className=\"flex flex-wrap justify-center gap-4 text-sm\">\n              <Link to=\"/diagrams\" className=\"text-blue-600 hover:text-blue-800\">\n                My Diagrams\n              </Link>\n              <Link to=\"/templates\" className=\"text-blue-600 hover:text-blue-800\">\n                Templates\n              </Link>\n              <Link to=\"/profile\" className=\"text-blue-600 hover:text-blue-800\">\n                Profile\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Footer */}\n      <div className=\"mt-16 text-center\">\n        <p className=\"text-xs text-gray-400\">\n          DrawSQL Clone - Professional Database Schema Designer\n        </p>\n      </div>\n    </div>\n  );\n}; ","import React from 'react';\n\nconst TestPage: React.FC = () => {\n  return (\n    <div style={{ \n      padding: '20px', \n      fontFamily: 'Arial, sans-serif',\n      backgroundColor: '#f0f0f0',\n      minHeight: '100vh'\n    }}>\n      <h1 style={{ color: '#333', marginBottom: '20px' }}>\n        ✅ React App is Working!\n      </h1>\n      \n      <div style={{ \n        backgroundColor: 'white', \n        padding: '20px', \n        borderRadius: '8px',\n        boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n      }}>\n        <h2>System Status:</h2>\n        <ul>\n          <li>✅ React: {React.version}</li>\n          <li>✅ Component rendering: Working</li>\n          <li>✅ CSS: Loading</li>\n          <li>✅ JavaScript: Executing</li>\n        </ul>\n        \n        <div style={{ marginTop: '20px' }}>\n          <button \n            onClick={() => alert('Button works!')}\n            style={{\n              padding: '10px 20px',\n              backgroundColor: '#007bff',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer'\n            }}\n          >\n            Test Button\n          </button>\n        </div>\n        \n        <div style={{ marginTop: '20px', fontSize: '14px', color: '#666' }}>\n          Current time: {new Date().toLocaleString()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TestPage; ","import { Routes, Route, Navigate } from 'react-router-dom'\nimport { useAuthStore } from '@/store/authStore'\nimport { useEffect } from 'react'\n\n// Layout components\nimport { AppLayout } from '@/components/layout/AppLayout'\nimport { AuthLayout } from '@/components/layout/AuthLayout'\n\n// Page components\nimport { HomePage } from '@/pages/HomePage'\nimport { LoginPage } from '@/pages/auth/LoginPage'\nimport { RegisterPage } from '@/pages/auth/RegisterPage'\nimport { DashboardPage } from '@/pages/DashboardPage'\nimport DiagramsPage from '@/pages/DiagramsPage'\nimport { DiagramEditorPage } from '@/pages/DiagramEditorPage'\nimport { TemplatesPage } from '@/pages/TemplatesPage'\nimport { ProfilePage } from '@/pages/ProfilePage'\nimport { NotFoundPage } from '@/pages/NotFoundPage'\nimport TestPage from '@/TestPage'\n\n// Auth guard component\nconst ProtectedRoute = ({ children }: { children: React.ReactNode }) => {\n  const { user, isAuthenticated, isLoading } = useAuthStore()\n  \n  // Show loading while checking authentication\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    )\n  }\n  \n  if (!isAuthenticated || !user) {\n    return <Navigate to=\"/login\" replace />\n  }\n  \n  return <>{children}</>\n}\n\nconst PublicRoute = ({ children }: { children: React.ReactNode }) => {\n  const { isAuthenticated, isLoading } = useAuthStore()\n  \n  // Show loading while checking authentication\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    )\n  }\n  \n  if (isAuthenticated) {\n    return <Navigate to=\"/dashboard\" replace />\n  }\n  \n  return <>{children}</>\n}\n\nfunction App() {\n  const { initializeAuth } = useAuthStore()\n\n  useEffect(() => {\n    // Initialize authentication on app start\n    initializeAuth()\n  }, [initializeAuth])\n\n  return (\n    <div className=\"App\">\n      <Routes>\n        {/* Public routes */}\n        <Route path=\"/\" element={<HomePage />} />\n        <Route path=\"/test\" element={<TestPage />} />\n        <Route path=\"/templates\" element={<TemplatesPage />} />\n        \n        {/* Auth routes - redirect to dashboard if already logged in */}\n        <Route path=\"/login\" element={\n          <PublicRoute>\n            <AuthLayout>\n              <LoginPage />\n            </AuthLayout>\n          </PublicRoute>\n        } />\n        \n        <Route path=\"/register\" element={\n          <PublicRoute>\n            <AuthLayout>\n              <RegisterPage />\n            </AuthLayout>\n          </PublicRoute>\n        } />\n\n        {/* Protected routes */}\n        <Route path=\"/dashboard\" element={\n          <ProtectedRoute>\n            <AppLayout>\n              <DashboardPage />\n            </AppLayout>\n          </ProtectedRoute>\n        } />\n\n        <Route path=\"/diagrams\" element={\n          <ProtectedRoute>\n            <AppLayout>\n              <DiagramsPage />\n            </AppLayout>\n          </ProtectedRoute>\n        } />\n\n        <Route path=\"/diagram/:id\" element={\n          <ProtectedRoute>\n            <DiagramEditorPage />\n          </ProtectedRoute>\n        } />\n\n        <Route path=\"/editor\" element={\n          <ProtectedRoute>\n            <DiagramEditorPage />\n          </ProtectedRoute>\n        } />\n\n        <Route path=\"/profile\" element={\n          <ProtectedRoute>\n            <AppLayout>\n              <ProfilePage />\n            </AppLayout>\n          </ProtectedRoute>\n        } />\n\n        {/* Catch all route */}\n        <Route path=\"*\" element={<NotFoundPage />} />\n      </Routes>\n    </div>\n  )\n}\n\nexport default App ","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport { BrowserRouter } from 'react-router-dom'\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query'\nimport { Toaster } from 'react-hot-toast'\n\nimport App from './App.tsx'\nimport './index.css'\n\n// Create a query client\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 5 * 60 * 1000, // 5 minutes\n      retry: 1,\n      refetchOnWindowFocus: false,\n    },\n    mutations: {\n      retry: 1,\n    },\n  },\n})\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <BrowserRouter>\n        <App />\n        <Toaster\n          position=\"top-right\"\n          toastOptions={{\n            duration: 4000,\n            style: {\n              background: '#363636',\n              color: '#fff',\n              borderRadius: '8px',\n              fontSize: '14px',\n              fontWeight: '500',\n            },\n            success: {\n              iconTheme: {\n                primary: '#22c55e',\n                secondary: '#fff',\n              },\n            },\n            error: {\n              iconTheme: {\n                primary: '#ef4444',\n                secondary: '#fff',\n              },\n            },\n          }}\n        />\n      </BrowserRouter>\n    </QueryClientProvider>\n  </React.StrictMode>,\n) "],"names":["m","require$$0","e","t","l","a","n","o","c","s","i","p","u","d","r","f","g","h","j","W","F","A","Y","U","P","y","q","D","Q","H","J","x","K","X","b","Z","ee","O","$","L","v","S","E","oe","I","re","se","k","te","ne","ie","V","ae","pe","N","de","_","ce","ue","w","le","fe","me","Te","M","g.createElement","ye","ge","he","xe","be","B","Se","Ae","z","C","l.memo","l.createElement","l.Fragment","Re","T.createElement","ve","T.useCallback","Ee","De","Pe","R","Oe","useAuthStore","create","set","get","user","token","loading","userStr","error","AppLayout","children","logout","navigate","useNavigate","handleLogout","jsxs","jsx","Link","_a","_b","AuthLayout","HomePage","LoginPage","email","setEmail","useState","password","setPassword","isLoading","setIsLoading","setError","login","handleSubmit","response","data","userData","handleDemoLogin","demoEmail","demoPassword","RegisterPage","DashboardPage","diagrams","setDiagrams","useEffect","stats","formatTimeAgo","dateString","date","diffInMs","diffInHours","diffInDays","getTableCount","canvasData","quickActions","stat","action","diagram","DiagramsPage","frameworks","setFrameworks","setLoading","showCreateModal","setShowCreateModal","exportingDiagram","setExportingDiagram","selectedFramework","setSelectedFramework","namespace","setNamespace","newDiagram","setNewDiagram","fetchDiagrams","fetchFrameworks","handleCreateDiagram","handleExportDiagram","diagramId","blob","url","contentDisposition","filename","errorData","handleDeleteDiagram","formatDate","motion","Plus","framework","FileText","Clock","Eye","Edit","Trash2","Download","DiagramEditorPage","id","useParams","tables","setTables","relationships","setRelationships","isAddingTable","setIsAddingTable","newTableName","setNewTableName","editingColumn","setEditingColumn","isDragging","setIsDragging","dragOffset","setDragOffset","showForeignKeyModal","setShowForeignKeyModal","foreignKeyData","setForeignKeyData","showTableEditModal","setShowTableEditModal","editingTable","setEditingTable","isSaving","setIsSaving","diagramName","setDiagramName","setDiagramId","saveStatus","setSaveStatus","autoSave","setAutoSave","hasUnsavedChanges","setHasUnsavedChanges","isExporting","setIsExporting","showExportModal","setShowExportModal","exportType","setExportType","exportConfig","setExportConfig","newTitle","prev","orderedTables","setOrderedTables","draggedTableId","setDraggedTableId","canvasRef","useRef","isAuthenticated","sortTablesByDependencies","tablesWithPriority","table","priority","item","sortTablesByDependenciesForMigration","sortedTables","sorted","visited","visiting","independentTables","rel","visit","dependencies","dep","dependentTables","generateNamespace","cleanName","newNamespace","loadDiagram","allTableNames","prioritySortedTables","priorityA","priorityB","diagramTitle","index","handleKeyDown","saveDiagram","autoSaveTimer","addTable","newTable","addColumn","tableId","newColumn","updateColumn","columnId","updates","column","deleteColumn","moveColumnUp","columnIndex","col","newColumns","moveColumnDown","toggleTableCollapse","deleteTable","createForeignKey","fromTableId","fromColumnId","toTableId","toColumnId","fromTable","toTable","fromColumn","toColumn","newRelationship","handleMouseDown","rect","handleMouseMove","canvasRect","newX","newY","handleMouseUp","startForeignKeyCreation","initialData","referencedTable","referencedColumn","completeForeignKeyCreation","getColumnPosition","tableName","columnName","headerHeight","rowHeight","padding","tableWidth","centerY","columnY","deleteRelationship","relationshipId","relationship","removeForeignKey","diagramData","result","handleTableSelection","isSelected","name","handleSelectAllTables","handleDeselectAllTables","handleDragStart","handleDragOver","handleDrop","targetTableId","draggedIndex","targetIndex","newOrderedTables","draggedTable","handleDragEnd","exportDiagram","filenameMatch","Home","Grid3X3","fromPos","toPos","fromCollapsed","toCollapsed","startX","startY","endX","endY","dx","dy","distance","controlOffset","control1X","control1Y","control2X","path","midX","ChevronRight","ChevronDownIcon","Edit2","ChevronUp","ChevronDown","Fragment","TemplatesPage","templates","useTemplate","template","ProfilePage","NotFoundPage","TestPage","React","ProtectedRoute","Navigate","PublicRoute","App","initializeAuth","Routes","Route","queryClient","QueryClient","ReactDOM","QueryClientProvider","BrowserRouter","Toaster"],"mappings":"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","x_google_ignoreList":[0,1,2]}